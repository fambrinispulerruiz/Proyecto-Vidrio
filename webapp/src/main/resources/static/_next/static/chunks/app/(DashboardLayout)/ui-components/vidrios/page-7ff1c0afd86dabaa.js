(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{6718:function(e,a,i){"use strict";var o=i(6314);a.Z=void 0;var r=o(i(984)),n=i(7437),l=(0,r.default)((0,n.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");a.Z=l},6446:function(e,a,i){"use strict";var o=i(6314);a.Z=void 0;var r=o(i(984)),n=i(7437),l=(0,r.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");a.Z=l},8989:function(e,a,i){Promise.resolve().then(i.bind(i,7376))},8312:function(e,a,i){"use strict";var o=i(7437);i(2265);var r=i(5133),n=i(8469),l=i(3226),s=i(3457),t=i(6507);a.Z=e=>{let{title:a,subtitle:i,children:d,action:c,footer:h,cardheading:p,headtitle:u,headsubtitle:x,middlecontent:j}=e;return(0,o.jsxs)(r.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[p?(0,o.jsxs)(n.Z,{children:[(0,o.jsx)(l.Z,{variant:"h4",children:u}),(0,o.jsx)(l.Z,{variant:"subtitle2",color:"textSecondary",children:x})]}):(0,o.jsxs)(n.Z,{sx:{p:"30px"},children:[a?(0,o.jsxs)(s.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,o.jsxs)(t.Z,{children:[a?(0,o.jsx)(l.Z,{variant:"h4",children:a}):"",i?(0,o.jsx)(l.Z,{variant:"subtitle2",color:"textSecondary",children:i}):""]}),c]}):null,d]}),j,h]})}},7376:function(e,a,i){"use strict";i.r(a);var o=i(7437),r=i(2265),n=i(8874),l=i(6507),s=i(3724),t=i(9394),d=i(1797),c=i(6337),h=i(3457),p=i(4081),u=i(2510),x=i(4997),j=i(4309),v=i(1975),b=i(2834),m=i(3701),Z=i(6988),g=i(8489),f=i(666),C=i(9279),P=i(3391),y=i(6446),E=i(9108),T=i(4273),k=i(8312),D=i(6718);a.default=()=>{let[e,a]=(0,r.useState)([]),[i,_]=(0,r.useState)([]),[I,V]=(0,r.useState)({id:"",nombre:"",antena:"",codigo:"",precio:"",sensor:"",tipovidrio:"",modelo_id:"",activo:""}),[S,w]=(0,r.useState)(!1),[A,z]=(0,r.useState)(!1),[N,L]=(0,r.useState)(null),[W,M]=(0,r.useState)(!1),[B,O]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Vidrios/actions/verVidrios/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),o=await i.json();console.log(o),a(o)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]),(0,r.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),a=await fetch("http://localhost:8080/restful/services/simple.Modelos/actions/verModelos/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),i=await a.json();console.log(i),_(i)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let F=()=>{w(!1)},G=()=>{z(!1)},H=e=>{if("target"in e){let{name:a,value:i}=e.target;console.log("TextField Change - name: ".concat(a,", value: ").concat(i)),V(e=>({...e,[a||""]:i}))}else{var a;let i=(null===(a=e.target)||void 0===a?void 0:a.value)||"";console.log("Select Change - selectedValue: ".concat(i)),V(e=>({...e,tipoEmpresa:i}))}},J=async()=>{try{let e="Basic "+btoa("sven:pass"),a=await fetch("http://localhost:8080/restful/objects/modelos.Modelo/".concat(I.modelo_id,"/actions/agregarVidrio/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:I.nombre},antena:{value:I.antena},codigo:{value:I.codigo},precio:{value:I.precio},sensor:{value:I.sensor},tipoVidrio:{value:I.tipovidrio}})});a.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},U=async e=>{try{let a="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(e.id),{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:a,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});if(i.ok){let a=await i.json(),o=a.modelo.href.split("/").pop();V({id:a.id,nombre:a.nombre,modelo_id:o,antena:a.antena,codigo:a.codigo,precio:a.precio,sensor:a.sensor,tipovidrio:a.tipoVidrio,activo:a.activo}),L(e.id),z(!0)}else console.error("Error al obtener los datos de la empresa")}catch(e){console.error("Error al realizar la solicitud:",e)}},q=async()=>{try{var e;let a="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(I.id,"/actions/updateName/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:a,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:I.nombre},antena:{value:I.antena},codigo:{value:I.codigo},precio:{value:I.precio},sensor:{value:I.sensor},tipoVidrio:{value:null===(e=Q.find(e=>e.id.replace(/_/g," ")===I.tipovidrio))||void 0===e?void 0:e.id}})});i.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},K=async(e,a)=>{try{let i="http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(e,"/actions/").concat(a?"delete":"activar","/invoke"),o="Basic "+btoa("sven:pass"),r=await fetch(i,{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:o,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});r.ok?O('Acci\xf3n "'.concat(a?"Desactivar":"Activar",'" completada con \xe9xito')):O("Error al realizar la acci\xf3n: ".concat(r.statusText)),M(!0)}catch(e){O("Error al realizar la solicitud"),M(!0)}},Q=[{id:"Parabrisa",nombre:"Parabrisa"},{id:"Luneta",nombre:"Luneta"},{id:"Puerta_Delantera_D",nombre:"Puerta Delantera D"},{id:"Puerta_Delantera_I",nombre:"Puerta Delantera I"},{id:"Puerta_Trasera_D",nombre:"Puerta Trasera D"},{id:"Puerta_Trasera_I",nombre:"Puerta Trasera I"},{id:"Espejo_Lateral_D",nombre:"Espejo Lateral D"},{id:"Espejo_Lateral_I",nombre:"Espejo Lateral I"}],R=[{id:"Parabrisa",nombre:"Parabrisa"},{id:"Luneta",nombre:"Luneta"},{id:"Puerta Delantera D",nombre:"Puerta Delantera D"},{id:"Puerta Delantera I",nombre:"Puerta Delantera I"},{id:"Puerta Trasera D",nombre:"Puerta Trasera D"},{id:"Puerta Trasera I",nombre:"Puerta Trasera I"},{id:"Espejo Lateral D",nombre:"Espejo Lateral D"},{id:"Espejo Lateral I",nombre:"Espejo Lateral I"}],X=[{id:"Si",nombre:"Si"},{id:"No",nombre:"No"}],Y=[{id:"Si",nombre:"Si"},{id:"No",nombre:"No"}];return(0,o.jsx)(n.ZP,{container:!0,spacing:0,children:(0,o.jsxs)(n.ZP,{item:!0,xs:12,lg:12,children:[(0,o.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",children:[(0,o.jsx)(s.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{w(!0)},children:"Agregar Vidrio"}),(0,o.jsx)(s.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:T.Z[500],"&:hover":{backgroundColor:T.Z[700]}},startIcon:(0,o.jsx)(E.Z,{}),onClick:()=>{},children:"Exportar a PDF"})]}),(0,o.jsxs)(t.Z,{open:S,onClose:F,children:[(0,o.jsx)(d.Z,{children:"Agregar Vidrio"}),(0,o.jsx)(c.Z,{sx:{width:"600px",textAlign:"center"},children:(0,o.jsx)(n.ZP,{item:!0,xs:12,lg:12,children:(0,o.jsx)(k.Z,{title:"Complete el Formulario de Vidrio",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h.Z,{spacing:3,children:[(0,o.jsxs)(p.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{id:"modelo-label",children:"Modelo"}),(0,o.jsx)(x.Z,{labelId:"modelo-label",id:"modelo",name:"modelo_id",label:"Modelo",value:I.modelo_id,onChange:e=>V({...I,modelo_id:e.target.value}),children:i.map(e=>(0,o.jsx)(j.Z,{value:e.id,children:e.nombre+" ("+e.empresa.title+")"},e.id))})]}),(0,o.jsx)(v.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:I.nombre,onChange:H}),(0,o.jsx)(v.Z,{id:"codigo",name:"codigo",label:"Codigo",variant:"outlined",fullWidth:!0,value:I.codigo,onChange:H}),(0,o.jsx)(v.Z,{id:"precio",name:"precio",label:"Precio",variant:"outlined",fullWidth:!0,type:"number",inputProps:{min:0,step:"any"},value:I.precio,onChange:H}),(0,o.jsxs)(p.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{id:"modelo-label",children:"Tipo de Vidrio"}),(0,o.jsx)(x.Z,{labelId:"tipovidrio-label",id:"tipovidrio",name:"tipovidrio",label:"TipoVidrio",value:I.tipovidrio,onChange:e=>V({...I,tipovidrio:e.target.value}),children:Q.map(e=>(0,o.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,o.jsxs)(p.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{id:"modelo-label",children:"\xbfPosee antena para parabrisas?"}),(0,o.jsx)(x.Z,{labelId:"antena-label",id:"antena",name:"antena",label:"Antena",value:I.antena,onChange:e=>V({...I,antena:e.target.value}),children:X.map(e=>(0,o.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,o.jsxs)(p.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{id:"modelo-label",children:"\xbfPosee sensor de lluvia?"}),(0,o.jsx)(x.Z,{labelId:"sensor-label",id:"sensor",name:"sensor",label:"Sensor",value:I.sensor,onChange:e=>V({...I,sensor:e.target.value}),children:Y.map(e=>(0,o.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,o.jsx)("br",{}),(0,o.jsx)(s.Z,{onClick:J,children:"Cargar"})]})})})}),(0,o.jsx)(b.Z,{children:(0,o.jsx)(s.Z,{onClick:F,children:"Cancelar"})})]}),(0,o.jsx)(k.Z,{title:"Vidrios",children:(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(Z.Z,{children:(0,o.jsxs)(g.Z,{children:[(0,o.jsx)(f.Z,{children:"ID"}),(0,o.jsx)(f.Z,{children:"Nombre"}),(0,o.jsx)(f.Z,{children:"Modelo"}),(0,o.jsx)(f.Z,{children:"Codigo"}),(0,o.jsx)(f.Z,{children:"Precio"}),(0,o.jsx)(f.Z,{children:"Tipo Vidrio"}),(0,o.jsx)(f.Z,{children:"Atena"}),(0,o.jsx)(f.Z,{children:"Sensor"}),(0,o.jsx)(f.Z,{children:"Activo"}),(0,o.jsx)(f.Z,{children:"Acciones"})]})}),(0,o.jsx)(C.Z,{children:e.map(e=>(0,o.jsxs)(g.Z,{children:[(0,o.jsx)(f.Z,{children:e.id}),(0,o.jsx)(f.Z,{children:e.nombre}),(0,o.jsx)(f.Z,{children:e.modelo.title}),(0,o.jsx)(f.Z,{children:e.codigo}),(0,o.jsx)(f.Z,{children:e.precio}),(0,o.jsx)(f.Z,{children:e.tipoVidrio}),(0,o.jsx)(f.Z,{children:e.antena}),(0,o.jsx)(f.Z,{children:e.sensor}),(0,o.jsx)(f.Z,{children:e.activo?"S\xed":"No"}),(0,o.jsxs)(f.Z,{children:[(0,o.jsx)(s.Z,{startIcon:(0,o.jsx)(P.Z,{}),color:"primary",onClick:()=>U(e),children:"Editar"}),(0,o.jsxs)(t.Z,{open:A,onClose:G,children:[(0,o.jsx)(d.Z,{children:"Editar Vidrio"}),(0,o.jsx)(c.Z,{sx:{width:"600px",textAlign:"center"},children:(0,o.jsx)(n.ZP,{item:!0,xs:12,lg:12,children:(0,o.jsx)(k.Z,{title:"Editar Vidrio",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h.Z,{spacing:3,children:[(0,o.jsx)(v.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:I.nombre,onChange:H}),(0,o.jsx)(v.Z,{id:"codigo",name:"codigo",label:"Codigo",variant:"outlined",fullWidth:!0,value:I.codigo,onChange:H}),(0,o.jsx)(v.Z,{id:"precio",name:"precio",label:"Precio",variant:"outlined",fullWidth:!0,type:"number",inputProps:{min:0,step:"any"},value:I.precio,onChange:H}),(0,o.jsxs)(p.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{id:"modelo-label",children:"Tipo de Vidrio"}),(0,o.jsx)(x.Z,{labelId:"tipovidrio-label",id:"tipovidrio",name:"tipovidrio",label:"TipoVidrio",value:I.tipovidrio,onChange:e=>V({...I,tipovidrio:e.target.value}),children:R.map(e=>(0,o.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,o.jsxs)(p.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{id:"modelo-label",children:"\xbfPosee antena para parabrisas?"}),(0,o.jsx)(x.Z,{labelId:"antena-label",id:"antena",name:"antena",label:"Antena",value:I.antena,onChange:e=>V({...I,antena:e.target.value}),children:X.map(e=>(0,o.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,o.jsxs)(p.Z,{fullWidth:!0,children:[(0,o.jsx)(u.Z,{id:"modelo-label",children:"\xbfPosee sensor de lluvia?"}),(0,o.jsx)(x.Z,{labelId:"sensor-label",id:"sensor",name:"sensor",label:"Sensor",value:I.sensor,onChange:e=>V({...I,sensor:e.target.value}),children:Y.map(e=>(0,o.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,o.jsx)("br",{}),(0,o.jsx)(s.Z,{onClick:q,children:"Confirmar Edici\xf3n"})]})})})}),(0,o.jsx)(b.Z,{children:(0,o.jsx)(s.Z,{onClick:G,children:"Cancelar"})})]}),(0,o.jsx)(s.Z,{startIcon:e.activo?(0,o.jsx)(y.Z,{}):(0,o.jsx)(D.Z,{}),color:e.activo?"secondary":"success",onClick:()=>K(e.id,e.activo),children:e.activo?"Desactivar":"Activar"}),(0,o.jsx)(t.Z,{open:W,onClose:()=>M(!1),children:(0,o.jsxs)(c.Z,{children:[B,(0,o.jsx)(s.Z,{onClick:()=>window.location.reload(),children:"Aceptar"})]})})]})]},e.id))})]})})]})})}}},function(e){e.O(0,[370,468,238,874,659,984,195,413,215,869,971,596,744],function(){return e(e.s=8989)}),_N_E=e.O()}]);