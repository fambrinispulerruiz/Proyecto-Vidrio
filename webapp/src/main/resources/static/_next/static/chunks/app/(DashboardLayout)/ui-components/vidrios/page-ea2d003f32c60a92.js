(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{42480:function(){},36718:function(e,i,o){"use strict";var r=o(26314);i.Z=void 0;var a=r(o(80984)),l=o(57437),n=(0,a.default)((0,l.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");i.Z=n},46446:function(e,i,o){"use strict";var r=o(26314);i.Z=void 0;var a=r(o(80984)),l=o(57437),n=(0,a.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");i.Z=n},58989:function(e,i,o){Promise.resolve().then(o.bind(o,17376))},18312:function(e,i,o){"use strict";var r=o(57437);o(2265);var a=o(15133),l=o(88469),n=o(43226),t=o(13457),s=o(96507);i.Z=e=>{let{title:i,subtitle:o,children:d,action:c,footer:h,cardheading:p,headtitle:x,headsubtitle:u,middlecontent:j}=e;return(0,r.jsxs)(a.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[p?(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(n.Z,{variant:"h4",children:x}),(0,r.jsx)(n.Z,{variant:"subtitle2",color:"textSecondary",children:u})]}):(0,r.jsxs)(l.Z,{sx:{p:"30px"},children:[i?(0,r.jsxs)(t.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,r.jsxs)(s.Z,{children:[i?(0,r.jsx)(n.Z,{variant:"h4",children:i}):"",o?(0,r.jsx)(n.Z,{variant:"subtitle2",color:"textSecondary",children:o}):""]}),c]}):null,d]}),j,h]})}},17376:function(e,i,o){"use strict";o.r(i);var r=o(57437),a=o(2265),l=o(28874),n=o(96507),t=o(73724),s=o(89394),d=o(91797),c=o(26337),h=o(13457),p=o(84081),x=o(2510),u=o(54997),j=o(74309),v=o(21975),m=o(42834),b=o(73701),g=o(66988),Z=o(98489),f=o(30666),y=o(39279),C=o(13391),w=o(46446),E=o(9108),P=o(34273),D=o(18312),V=o(36718),S=o(14340),T=o(88613);i.default=()=>{let[e,i]=(0,a.useState)([]),[o,k]=(0,a.useState)([]),[z,I]=(0,a.useState)({id:"",nombre:"",antena:"",codigo:"",precio:"",sensor:"",tipovidrio:"",modelo_id:"",activo:""}),[A,_]=(0,a.useState)(!1),[B,W]=(0,a.useState)(!1),[L,N]=(0,a.useState)(null),[M,G]=(0,a.useState)(!1),[F,O]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/services/simple.Vidrios/actions/verVidrios/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),r=await o.json(),a=r.sort((e,i)=>e.id-i.id);i(a)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]),(0,a.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Modelos/actions/verModelos/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),o=await i.json();console.log(o),k(o)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let R=()=>{_(!1)},H=()=>{W(!1)},J=e=>{if("target"in e){let{name:i,value:o}=e.target;console.log("TextField Change - name: ".concat(i,", value: ").concat(o)),I(e=>({...e,[i||""]:o}))}else{var i;let o=(null===(i=e.target)||void 0===i?void 0:i.value)||"";console.log("Select Change - selectedValue: ".concat(o)),I(e=>({...e,tipoEmpresa:o}))}},U=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/objects/modelos.Modelo/".concat(z.modelo_id,"/actions/agregarVidrio/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:z.nombre},antena:{value:z.antena},codigo:{value:z.codigo},precio:{value:z.precio},sensor:{value:z.sensor},tipoVidrio:{value:z.tipovidrio}})});i.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},Y=async e=>{try{let i="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(e.id),{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:i,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});if(o.ok){let i=await o.json(),r=i.modelo.href.split("/").pop();I({id:i.id,nombre:i.nombre,modelo_id:r,antena:i.antena,codigo:i.codigo,precio:i.precio,sensor:i.sensor,tipovidrio:i.tipoVidrio,activo:i.activo}),N(e.id),W(!0)}else console.error("Error al obtener los datos de la empresa")}catch(e){console.error("Error al realizar la solicitud:",e)}},q=async()=>{try{var e;let i="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(z.id,"/actions/updateName/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:i,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:z.nombre},antena:{value:z.antena},codigo:{value:z.codigo},precio:{value:z.precio},sensor:{value:z.sensor},tipoVidrio:{value:null===(e=Q.find(e=>e.id.replace(/_/g," ")===z.tipovidrio))||void 0===e?void 0:e.id}})});o.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},K=async(e,i)=>{try{let o="http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(e,"/actions/").concat(i?"delete":"activar","/invoke"),r="Basic "+btoa("sven:pass"),a=await fetch(o,{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:r,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});a.ok?O('Acci\xf3n "'.concat(i?"Desactivar":"Activar",'" completada con \xe9xito')):O("Error al realizar la acci\xf3n: ".concat(a.statusText)),G(!0)}catch(e){O("Error al realizar la solicitud"),G(!0)}},Q=[{id:"Parabrisa",nombre:"Parabrisa"},{id:"Luneta",nombre:"Luneta"},{id:"Puerta_Delantera_D",nombre:"Puerta Delantera D"},{id:"Puerta_Delantera_I",nombre:"Puerta Delantera I"},{id:"Puerta_Trasera_D",nombre:"Puerta Trasera D"},{id:"Puerta_Trasera_I",nombre:"Puerta Trasera I"},{id:"Espejo_Lateral_D",nombre:"Espejo Lateral D"},{id:"Espejo_Lateral_I",nombre:"Espejo Lateral I"}],X=[{id:"Parabrisa",nombre:"Parabrisa"},{id:"Luneta",nombre:"Luneta"},{id:"Puerta Delantera D",nombre:"Puerta Delantera D"},{id:"Puerta Delantera I",nombre:"Puerta Delantera I"},{id:"Puerta Trasera D",nombre:"Puerta Trasera D"},{id:"Puerta Trasera I",nombre:"Puerta Trasera I"},{id:"Espejo Lateral D",nombre:"Espejo Lateral D"},{id:"Espejo Lateral I",nombre:"Espejo Lateral I"}],$=[{id:"Si",nombre:"Si"},{id:"No",nombre:"No"}],ee=[{id:"Si",nombre:"Si"},{id:"No",nombre:"No"}],ei=S.mM.create({section:{margin:10,padding:10,flexGrow:1},page:{flexDirection:"column",backgroundColor:"#E4E4E4",padding:20},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},headerLeft:{flexDirection:"column",width:"40%"},headerRight:{flexDirection:"column",width:"40%",textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},table:{display:"flex",flexDirection:"column",width:"auto",marginBottom:20},rowH:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30,backgroundColor:"#2249839e"},rowC:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30},headerCell:{color:"#ffffff"},cell:{margin:"auto",fontSize:10,padding:5,textAlign:"center"},date:{fontSize:12,color:"#555"}}),eo=e=>{let{data:i}=e,o=new Date,a="".concat(o.getDate(),"/").concat(o.getMonth()+1,"/").concat(o.getFullYear());return(0,r.jsx)(S.BB,{children:(0,r.jsxs)(S.T3,{size:"A4",style:ei.page,children:[(0,r.jsxs)(S.G7,{style:ei.header,children:[(0,r.jsxs)(S.G7,{style:ei.headerLeft,children:[(0,r.jsx)(S.xv,{style:{fontSize:14,marginBottom:5},children:"El Emporio de el Vidrio"}),(0,r.jsx)(S.xv,{style:{fontSize:10,color:"#555"},children:"Direcci\xf3n: Pasaje Sayi 665"})]}),(0,r.jsxs)(S.G7,{style:ei.headerRight,children:[(0,r.jsx)(S.xv,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Registro de Vidrios Disponibles"}),(0,r.jsxs)(S.xv,{style:{fontSize:12,color:"#555"},children:["Fecha: ",a]})]})]}),(0,r.jsx)(S.xv,{style:ei.title,children:"Registro de Vidrios Disponibles"}),(0,r.jsxs)(S.G7,{style:ei.table,children:[(0,r.jsxs)(S.G7,{style:ei.rowH,children:[(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"15%"}],children:"ID"}),(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"20%"}],children:"Nombre"}),(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"30%"}],children:"Modelo"}),(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"20%"}],children:"Codigo"}),(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"20%"}],children:"Precio"}),(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"20%"}],children:"Tipo Vidrio"}),(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"20%"}],children:"Atena"}),(0,r.jsx)(S.xv,{style:[ei.cell,ei.headerCell,{width:"20%"}],children:"Sensor"})]}),i.map(e=>(0,r.jsxs)(S.G7,{style:ei.rowC,children:[(0,r.jsx)(S.xv,{style:[ei.cell,{width:"15%"}],children:e.id}),(0,r.jsx)(S.xv,{style:[ei.cell,{width:"20%"}],children:e.nombre}),(0,r.jsx)(S.xv,{style:[ei.cell,{width:"15%"}],children:e.modelo.title}),(0,r.jsx)(S.xv,{style:[ei.cell,{width:"20%"}],children:e.codigo}),(0,r.jsx)(S.xv,{style:[ei.cell,{width:"20%"}],children:e.precio}),(0,r.jsx)(S.xv,{style:[ei.cell,{width:"20%"}],children:e.tipoVidrio}),(0,r.jsx)(S.xv,{style:[ei.cell,{width:"20%"}],children:e.antena}),(0,r.jsx)(S.xv,{style:[ei.cell,{width:"20%"}],children:e.sensor})]},e.id))]})]})})},er=async e=>{let i=await (0,S.eA)((0,r.jsx)(eo,{data:e})),o=await i.toBlob();(0,T.saveAs)(o,"Reporte de Vidrios Disponibles - El Emporio del Vidrio.pdf")},ea=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Vidrios/actions/verVidrios/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),o=await i.json();er(o)}catch(e){console.error("Error al realizar la solicitud:",e)}};return(0,r.jsx)(l.ZP,{container:!0,spacing:0,children:(0,r.jsxs)(l.ZP,{item:!0,xs:12,lg:12,children:[(0,r.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",children:[(0,r.jsx)(t.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{_(!0)},children:"Agregar Vidrio"}),(0,r.jsx)(t.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:P.Z[500],"&:hover":{backgroundColor:P.Z[700]}},startIcon:(0,r.jsx)(E.Z,{}),onClick:ea,children:"Exportar a PDF"})]}),(0,r.jsxs)(s.Z,{open:A,onClose:R,children:[(0,r.jsx)(d.Z,{children:"Agregar Vidrio"}),(0,r.jsx)(c.Z,{sx:{width:"600px",textAlign:"center"},children:(0,r.jsx)(l.ZP,{item:!0,xs:12,lg:12,children:(0,r.jsx)(D.Z,{title:"Complete el Formulario de Vidrio",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Z,{spacing:3,children:[(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(x.Z,{id:"modelo-label",children:"Modelo"}),(0,r.jsx)(u.Z,{labelId:"modelo-label",id:"modelo",name:"modelo_id",label:"Modelo",value:z.modelo_id,onChange:e=>I({...z,modelo_id:e.target.value}),children:o.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.nombre+" ("+e.empresa.title+")"},e.id))})]}),(0,r.jsx)(v.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:z.nombre,onChange:J}),(0,r.jsx)(v.Z,{id:"codigo",name:"codigo",label:"Codigo",variant:"outlined",fullWidth:!0,value:z.codigo,onChange:J}),(0,r.jsx)(v.Z,{id:"precio",name:"precio",label:"Precio",variant:"outlined",fullWidth:!0,type:"number",inputProps:{min:0,step:"any"},value:z.precio,onChange:J}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(x.Z,{id:"modelo-label",children:"Tipo de Vidrio"}),(0,r.jsx)(u.Z,{labelId:"tipovidrio-label",id:"tipovidrio",name:"tipovidrio",label:"TipoVidrio",value:z.tipovidrio,onChange:e=>I({...z,tipovidrio:e.target.value}),children:Q.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(x.Z,{id:"modelo-label",children:"\xbfPosee antena para parabrisas?"}),(0,r.jsx)(u.Z,{labelId:"antena-label",id:"antena",name:"antena",label:"Antena",value:z.antena,onChange:e=>I({...z,antena:e.target.value}),children:$.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(x.Z,{id:"modelo-label",children:"\xbfPosee sensor de lluvia?"}),(0,r.jsx)(u.Z,{labelId:"sensor-label",id:"sensor",name:"sensor",label:"Sensor",value:z.sensor,onChange:e=>I({...z,sensor:e.target.value}),children:ee.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,r.jsx)("br",{}),(0,r.jsx)(t.Z,{onClick:U,children:"Cargar"})]})})})}),(0,r.jsx)(m.Z,{children:(0,r.jsx)(t.Z,{onClick:R,children:"Cancelar"})})]}),(0,r.jsx)(D.Z,{title:"Vidrios",children:(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(g.Z,{children:(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(f.Z,{children:"ID"}),(0,r.jsx)(f.Z,{children:"Nombre"}),(0,r.jsx)(f.Z,{children:"Modelo"}),(0,r.jsx)(f.Z,{children:"Codigo"}),(0,r.jsx)(f.Z,{children:"Precio"}),(0,r.jsx)(f.Z,{children:"Tipo Vidrio"}),(0,r.jsx)(f.Z,{children:"Atena"}),(0,r.jsx)(f.Z,{children:"Sensor"}),(0,r.jsx)(f.Z,{children:"Activo"}),(0,r.jsx)(f.Z,{children:"Acciones"})]})}),(0,r.jsx)(y.Z,{children:e.map(e=>(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(f.Z,{children:e.id}),(0,r.jsx)(f.Z,{children:e.nombre}),(0,r.jsx)(f.Z,{children:e.modelo.title}),(0,r.jsx)(f.Z,{children:e.codigo}),(0,r.jsx)(f.Z,{children:e.precio}),(0,r.jsx)(f.Z,{children:e.tipoVidrio}),(0,r.jsx)(f.Z,{children:e.antena}),(0,r.jsx)(f.Z,{children:e.sensor}),(0,r.jsx)(f.Z,{children:e.activo?"S\xed":"No"}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(t.Z,{startIcon:(0,r.jsx)(C.Z,{}),color:"primary",onClick:()=>Y(e),children:"Editar"}),(0,r.jsxs)(s.Z,{open:B,onClose:H,children:[(0,r.jsx)(d.Z,{children:"Editar Vidrio"}),(0,r.jsx)(c.Z,{sx:{width:"600px",textAlign:"center"},children:(0,r.jsx)(l.ZP,{item:!0,xs:12,lg:12,children:(0,r.jsx)(D.Z,{title:"Editar Vidrio",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.Z,{spacing:3,children:[(0,r.jsx)(v.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:z.nombre,onChange:J}),(0,r.jsx)(v.Z,{id:"codigo",name:"codigo",label:"Codigo",variant:"outlined",fullWidth:!0,value:z.codigo,onChange:J}),(0,r.jsx)(v.Z,{id:"precio",name:"precio",label:"Precio",variant:"outlined",fullWidth:!0,type:"number",inputProps:{min:0,step:"any"},value:z.precio,onChange:J}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(x.Z,{id:"modelo-label",children:"Tipo de Vidrio"}),(0,r.jsx)(u.Z,{labelId:"tipovidrio-label",id:"tipovidrio",name:"tipovidrio",label:"TipoVidrio",value:z.tipovidrio,onChange:e=>I({...z,tipovidrio:e.target.value}),children:X.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(x.Z,{id:"modelo-label",children:"\xbfPosee antena para parabrisas?"}),(0,r.jsx)(u.Z,{labelId:"antena-label",id:"antena",name:"antena",label:"Antena",value:z.antena,onChange:e=>I({...z,antena:e.target.value}),children:$.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(x.Z,{id:"modelo-label",children:"\xbfPosee sensor de lluvia?"}),(0,r.jsx)(u.Z,{labelId:"sensor-label",id:"sensor",name:"sensor",label:"Sensor",value:z.sensor,onChange:e=>I({...z,sensor:e.target.value}),children:ee.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,r.jsx)("br",{}),(0,r.jsx)(t.Z,{onClick:q,children:"Confirmar Edici\xf3n"})]})})})}),(0,r.jsx)(m.Z,{children:(0,r.jsx)(t.Z,{onClick:H,children:"Cancelar"})})]}),(0,r.jsx)(t.Z,{startIcon:e.activo?(0,r.jsx)(w.Z,{}):(0,r.jsx)(V.Z,{}),color:e.activo?"secondary":"success",onClick:()=>K(e.id,e.activo),children:e.activo?"Desactivar":"Activar"}),(0,r.jsx)(s.Z,{open:M,onClose:()=>G(!1),children:(0,r.jsxs)(c.Z,{children:[F,(0,r.jsx)(t.Z,{onClick:()=>window.location.reload(),children:"Aceptar"})]})})]})]},e.id))})]})})]})})}}},function(e){e.O(0,[642,48,448,306,370,468,238,874,320,416,133,491,138,971,596,744],function(){return e(e.s=58989)}),_N_E=e.O()}]);