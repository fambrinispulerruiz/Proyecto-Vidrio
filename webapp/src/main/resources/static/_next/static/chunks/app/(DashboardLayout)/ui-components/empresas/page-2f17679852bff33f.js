(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{42480:function(){},36718:function(e,i,o){"use strict";var l=o(26314);i.Z=void 0;var r=l(o(80984)),a=o(57437),t=(0,r.default)((0,a.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");i.Z=t},46446:function(e,i,o){"use strict";var l=o(26314);i.Z=void 0;var r=l(o(80984)),a=o(57437),t=(0,r.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");i.Z=t},88851:function(e,i,o){Promise.resolve().then(o.bind(o,31908))},18312:function(e,i,o){"use strict";var l=o(57437);o(2265);var r=o(15133),a=o(88469),t=o(43226),s=o(13457),n=o(96507);i.Z=e=>{let{title:i,subtitle:o,children:c,action:d,footer:h,cardheading:p,headtitle:x,headsubtitle:m,middlecontent:j}=e;return(0,l.jsxs)(r.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[p?(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(t.Z,{variant:"h4",children:x}),(0,l.jsx)(t.Z,{variant:"subtitle2",color:"textSecondary",children:m})]}):(0,l.jsxs)(a.Z,{sx:{p:"30px"},children:[i?(0,l.jsxs)(s.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,l.jsxs)(n.Z,{children:[i?(0,l.jsx)(t.Z,{variant:"h4",children:i}):"",o?(0,l.jsx)(t.Z,{variant:"subtitle2",color:"textSecondary",children:o}):""]}),d]}):null,c]}),j,h]})}},31908:function(e,i,o){"use strict";o.r(i);var l=o(57437),r=o(2265),a=o(28874),t=o(96507),s=o(73724),n=o(89394),c=o(91797),d=o(26337),h=o(13457),p=o(21975),x=o(84081),m=o(2510),j=o(54997),u=o(74309),v=o(42834),f=o(73701),Z=o(66988),g=o(98489),b=o(30666),E=o(39279),C=o(13391),y=o(46446),w=o(9108),k=o(34273),z=o(18312),T=o(36718),S=o(14340),A=o(88613);i.default=()=>{let[e,i]=(0,r.useState)(!1),[o,D]=(0,r.useState)(!1),[B,W]=(0,r.useState)(null),[P,N]=(0,r.useState)(!1),[G,I]=(0,r.useState)(""),[F,O]=(0,r.useState)([]),[V,M]=(0,r.useState)({id:"",nombre:"",domicilio:"",telefono:"",correo:"",tipoEmpresa:""}),_=async e=>{try{let i="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat(e.id),{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:i,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});if(o.ok){let i=await o.json();M({id:i.id,nombre:i.name,domicilio:i.domicilio,telefono:i.telefono,correo:i.correo,tipoEmpresa:i.tipoEmpresa}),W(e.id),D(!0)}else console.error("Error al obtener los datos de la empresa")}catch(e){console.error("Error al realizar la solicitud:",e)}},R=()=>{i(!1)},H=()=>{D(!1)};(0,r.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/VerEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis/v2"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2"}}),o=await i.json(),l=o.sort((e,i)=>e.id-i.id);O(l)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let L=e=>{if("target"in e){let{name:i,value:o}=e.target;console.log("TextField Change - name: ".concat(i,", value: ").concat(o)),M(e=>({...e,[i||""]:o}))}else{var i;let o=(null===(i=e.target)||void 0===i?void 0:i.value)||"";console.log("Select Change - selectedValue: ".concat(o)),M(e=>({...e,tipoEmpresa:o}))}},J=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/CrearEmpresa/invoke",{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:V.nombre},domicilio:{value:V.domicilio},telefono:{value:V.telefono},correo:{value:V.correo},tipoEmpresa:{value:V.tipoEmpresa}})});i.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},U=S.mM.create({section:{margin:10,padding:10,flexGrow:1},page:{flexDirection:"column",backgroundColor:"#E4E4E4",padding:20},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},headerLeft:{flexDirection:"column",width:"40%"},headerRight:{flexDirection:"column",width:"40%",textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},table:{display:"flex",flexDirection:"column",width:"auto",marginBottom:20},rowH:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30,backgroundColor:"#2249839e"},rowC:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30},headerCell:{color:"#ffffff"},cell:{margin:"auto",fontSize:10,padding:5,textAlign:"center"},date:{fontSize:12,color:"#555"}}),Y=e=>{let{data:i}=e,o=new Date,r="".concat(o.getDate(),"/").concat(o.getMonth()+1,"/").concat(o.getFullYear());return(0,l.jsx)(S.BB,{children:(0,l.jsxs)(S.T3,{size:"A4",style:U.page,children:[(0,l.jsxs)(S.G7,{style:U.header,children:[(0,l.jsxs)(S.G7,{style:U.headerLeft,children:[(0,l.jsx)(S.xv,{style:{fontSize:14,marginBottom:5},children:"El Emporio de el Vidrio"}),(0,l.jsx)(S.xv,{style:{fontSize:10,color:"#555"},children:"Direcci\xf3n: Pasaje Sayi 665"})]}),(0,l.jsxs)(S.G7,{style:U.headerRight,children:[(0,l.jsx)(S.xv,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Registro de Empresas"}),(0,l.jsxs)(S.xv,{style:{fontSize:12,color:"#555"},children:["Fecha: ",r]})]})]}),(0,l.jsx)(S.xv,{style:U.title,children:"Registro de Empresas"}),(0,l.jsxs)(S.G7,{style:U.table,children:[(0,l.jsxs)(S.G7,{style:U.rowH,children:[(0,l.jsx)(S.xv,{style:[U.cell,U.headerCell,{width:"15%"}],children:"ID"}),(0,l.jsx)(S.xv,{style:[U.cell,U.headerCell,{width:"20%"}],children:"Nombre"}),(0,l.jsx)(S.xv,{style:[U.cell,U.headerCell,{width:"15%"}],children:"Tipo de Empresa"}),(0,l.jsx)(S.xv,{style:[U.cell,U.headerCell,{width:"20%"}],children:"Telefono"}),(0,l.jsx)(S.xv,{style:[U.cell,U.headerCell,{width:"20%"}],children:"Correo"}),(0,l.jsx)(S.xv,{style:[U.cell,U.headerCell,{width:"20%"}],children:"Domicilio"})]}),i.map(e=>(0,l.jsxs)(S.G7,{style:U.rowC,children:[(0,l.jsx)(S.xv,{style:[U.cell,{width:"15%"}],children:e.id}),(0,l.jsx)(S.xv,{style:[U.cell,{width:"20%"}],children:e.name}),(0,l.jsx)(S.xv,{style:[U.cell,{width:"15%"}],children:e.tipoEmpresa}),(0,l.jsx)(S.xv,{style:[U.cell,{width:"20%"}],children:e.telefono}),(0,l.jsx)(S.xv,{style:[U.cell,{width:"20%"}],children:e.correo}),(0,l.jsx)(S.xv,{style:[U.cell,{width:"20%"}],children:e.domicilio})]},e.id))]})]})})},q=async e=>{let i=await (0,S.eA)((0,l.jsx)(Y,{data:e})),o=await i.toBlob();(0,A.saveAs)(o,"Reporte de Empresas - El Emporio del Vidrio.pdf")},K=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/VerEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),o=await i.json();q(o)}catch(e){console.error("Error al realizar la solicitud:",e)}},Q=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat(V.id,"/actions/updateName/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:V.nombre},domicilio:{value:V.domicilio},telefono:{value:V.telefono},correo:{value:V.correo},tipoEmpresa:{value:V.tipoEmpresa}})});i.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},X=async(e,i)=>{try{let o="http://localhost:8080/restful/objects/vidrios.Empresa/".concat(e,"/actions/").concat(i?"delete":"activar","/invoke"),l="Basic "+btoa("sven:pass"),r=await fetch(o,{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:l,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});r.ok?I('Acci\xf3n "'.concat(i?"Desactivar":"Activar",'" completada con \xe9xito')):I("Error al realizar la acci\xf3n: ".concat(r.statusText)),N(!0)}catch(e){I("Error al realizar la solicitud"),N(!0)}},$=[{id:"Cliente",nombre:"Cliente"},{id:"Proveedor",nombre:"Proveedor"}];return(0,l.jsx)(a.ZP,{container:!0,spacing:0,children:(0,l.jsxs)(a.ZP,{item:!0,xs:12,lg:12,children:[(0,l.jsxs)(t.Z,{display:"flex",justifyContent:"space-between",children:[(0,l.jsx)(s.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{i(!0)},children:"Agregar Empresa"}),(0,l.jsx)(s.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:k.Z[500],"&:hover":{backgroundColor:k.Z[700]}},startIcon:(0,l.jsx)(w.Z,{}),onClick:K,children:"Exportar a PDF"})]}),(0,l.jsxs)(n.Z,{open:e,onClose:R,children:[(0,l.jsx)(c.Z,{children:"Agregar Empresa"}),(0,l.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,l.jsx)(a.ZP,{item:!0,xs:12,lg:12,children:(0,l.jsx)(z.Z,{title:"Complete el Formulario de la Empresa",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Z,{spacing:3,children:[(0,l.jsx)(p.Z,{id:"nombre",label:"Nombre",name:"nombre",variant:"outlined",fullWidth:!0,value:V.nombre,onChange:L}),(0,l.jsx)(p.Z,{id:"domicilio",label:"Domicilio",name:"domicilio",variant:"outlined",fullWidth:!0,value:V.domicilio,onChange:L}),(0,l.jsx)(p.Z,{id:"telefono",label:"Telefono",name:"telefono",variant:"outlined",fullWidth:!0,value:V.telefono,onChange:L}),(0,l.jsx)(p.Z,{id:"email",label:"Correo",name:"correo",variant:"outlined",fullWidth:!0,value:V.correo,onChange:L}),(0,l.jsxs)(x.Z,{fullWidth:!0,children:[(0,l.jsx)(m.Z,{id:"modelo-label",children:"Tipo de Empresa"}),(0,l.jsx)(j.Z,{labelId:"tipoempresa-label",id:"tipoempresa",label:"TipoEmpresa",name:"tipoEmpresa",value:V.tipoEmpresa,onChange:L,children:$.map(e=>(0,l.jsx)(u.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,l.jsx)("br",{}),(0,l.jsx)(s.Z,{onClick:J,children:"Cargar"})]})})})}),(0,l.jsx)(v.Z,{children:(0,l.jsx)(s.Z,{onClick:R,children:"Cancelar"})})]}),(0,l.jsx)(z.Z,{title:"Empresas",children:(0,l.jsxs)(f.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(b.Z,{children:"ID"}),(0,l.jsx)(b.Z,{children:"Nombre"}),(0,l.jsx)(b.Z,{children:"Tipo de Empresa"}),(0,l.jsx)(b.Z,{children:"Telefono"}),(0,l.jsx)(b.Z,{children:"Correo"}),(0,l.jsx)(b.Z,{children:"Domicilio"}),(0,l.jsx)(b.Z,{children:"Activo"}),(0,l.jsx)(b.Z,{children:"Acciones"})]})}),(0,l.jsx)(E.Z,{children:F.map(e=>(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(b.Z,{children:e.id}),(0,l.jsx)(b.Z,{children:e.name}),(0,l.jsx)(b.Z,{children:e.tipoEmpresa}),(0,l.jsx)(b.Z,{children:e.telefono}),(0,l.jsx)(b.Z,{children:e.correo}),(0,l.jsx)(b.Z,{children:e.domicilio}),(0,l.jsx)(b.Z,{children:e.activo?"S\xed":"No"}),(0,l.jsxs)(b.Z,{children:[(0,l.jsx)(s.Z,{startIcon:(0,l.jsx)(C.Z,{}),color:"primary",onClick:()=>_(e),children:"Editar"}),(0,l.jsxs)(n.Z,{open:o,onClose:H,children:[(0,l.jsx)(c.Z,{children:"Editar Empresa"}),(0,l.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,l.jsx)(a.ZP,{item:!0,xs:12,lg:12,children:(0,l.jsx)(z.Z,{title:"Editar Empresa",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(h.Z,{spacing:3,children:[(0,l.jsx)(p.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:V.nombre,onChange:L}),(0,l.jsx)(p.Z,{id:"domicilio",name:"domicilio",label:"Domicilio",variant:"outlined",fullWidth:!0,value:V.domicilio,onChange:L}),(0,l.jsx)(p.Z,{id:"telefono",name:"telefono",label:"Telefono",variant:"outlined",fullWidth:!0,value:V.telefono,onChange:L}),(0,l.jsx)(p.Z,{id:"email",name:"correo",label:"Correo",variant:"outlined",fullWidth:!0,value:V.correo,onChange:L}),(0,l.jsxs)(x.Z,{fullWidth:!0,children:[(0,l.jsx)(m.Z,{id:"modelo-label",children:"Tipo de Empresa"}),(0,l.jsx)(j.Z,{labelId:"tipoempresa-label",id:"tipoempresa",name:"tipoEmpresa",label:"TipoEmpresa",value:V.tipoEmpresa,onChange:L,children:$.map(e=>(0,l.jsx)(u.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,l.jsx)("br",{}),(0,l.jsx)(s.Z,{onClick:Q,children:"Confirmar Edici\xf3n"})]})})})}),(0,l.jsx)(v.Z,{children:(0,l.jsx)(s.Z,{onClick:H,children:"Cancelar"})})]}),(0,l.jsx)(s.Z,{startIcon:e.activo?(0,l.jsx)(y.Z,{}):(0,l.jsx)(T.Z,{}),color:e.activo?"secondary":"success",onClick:()=>X(e.id,e.activo),children:e.activo?"Desactivar":"Activar"}),(0,l.jsx)(n.Z,{open:P,onClose:()=>N(!1),children:(0,l.jsxs)(d.Z,{children:[G,(0,l.jsx)(s.Z,{onClick:()=>window.location.reload(),children:"Aceptar"})]})})]})]},e.id))})]})})]})})}}},function(e){e.O(0,[642,48,448,306,370,468,238,874,320,416,133,491,138,971,596,744],function(){return e(e.s=88851)}),_N_E=e.O()}]);