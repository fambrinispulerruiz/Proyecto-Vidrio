(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{6718:function(e,t,a){"use strict";var r=a(6314);t.Z=void 0;var i=r(a(984)),o=a(7437),s=(0,i.default)((0,o.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.Z=s},6446:function(e,t,a){"use strict";var r=a(6314);t.Z=void 0;var i=r(a(984)),o=a(7437),s=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},9108:function(e,t,a){"use strict";var r=a(6314);t.Z=void 0;var i=r(a(984)),o=a(7437),s=(0,i.default)((0,o.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");t.Z=s},5563:function(e,t,a){"use strict";a.d(t,{V:function(){return o}});var r=a(6520),i=a(5702);function o(e){return(0,i.Z)("MuiDivider",e)}let s=(0,r.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=s},8342:function(e,t,a){"use strict";a.d(t,{f:function(){return o}});var r=a(6520),i=a(5702);function o(e){return(0,i.Z)("MuiListItemIcon",e)}let s=(0,r.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);t.Z=s},9660:function(e,t,a){"use strict";a.d(t,{L:function(){return o}});var r=a(6520),i=a(5702);function o(e){return(0,i.Z)("MuiListItemText",e)}let s=(0,r.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);t.Z=s},4309:function(e,t,a){"use strict";a.d(t,{Z:function(){return E}});var r=a(791),i=a(3428),o=a(2265),s=a(7042),n=a(5600),l=a(9975),c=a(5843),d=a(7927),p=a(7820),u=a(6659),h=a(8519),m=a(7663),v=a(5563),x=a(8342),Z=a(9660),f=a(6520),g=a(5702);function j(e){return(0,g.Z)("MuiMenuItem",e)}let b=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var y=a(7437);let C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=e=>{let{disabled:t,dense:a,divider:r,disableGutters:o,selected:s,classes:l}=e,c=(0,n.Z)({root:["root",a&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",s&&"selected"]},j,l);return(0,i.Z)({},l,c)},M=(0,c.ZP)(u.Z,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${b.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${b.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${b.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${b.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v.Z.inset}`]:{marginLeft:52},[`& .${Z.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.Z.inset}`]:{paddingLeft:36},[`& .${x.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${x.Z.root} svg`]:{fontSize:"1.25rem"}}))),w=o.forwardRef(function(e,t){let a;let n=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:u=!1,divider:v=!1,disableGutters:x=!1,focusVisibleClassName:Z,role:f="menuitem",tabIndex:g,className:j}=n,b=(0,r.Z)(n,C),w=o.useContext(p.Z),E=o.useMemo(()=>({dense:u||w.dense||!1,disableGutters:x}),[w.dense,u,x]),z=o.useRef(null);(0,h.Z)(()=>{l&&z.current&&z.current.focus()},[l]);let I=(0,i.Z)({},n,{dense:E.dense,divider:v,disableGutters:x}),$=k(n),S=(0,m.Z)(z,t);return n.disabled||(a=void 0!==g?g:-1),(0,y.jsx)(p.Z.Provider,{value:E,children:(0,y.jsx)(M,(0,i.Z)({ref:S,role:f,tabIndex:a,component:c,focusVisibleClassName:(0,s.Z)($.focusVisible,Z),className:(0,s.Z)($.root,j)},b,{ownerState:I,classes:$}))})});var E=w},5588:function(e,t,a){Promise.resolve().then(a.bind(a,9720))},8312:function(e,t,a){"use strict";var r=a(7437);a(2265);var i=a(5133),o=a(8469),s=a(3226),n=a(3457),l=a(6507);t.Z=e=>{let{title:t,subtitle:a,children:c,action:d,footer:p,cardheading:u,headtitle:h,headsubtitle:m,middlecontent:v}=e;return(0,r.jsxs)(i.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[u?(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(s.Z,{variant:"h4",children:h}),(0,r.jsx)(s.Z,{variant:"subtitle2",color:"textSecondary",children:m})]}):(0,r.jsxs)(o.Z,{sx:{p:"30px"},children:[t?(0,r.jsxs)(n.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,r.jsxs)(l.Z,{children:[t?(0,r.jsx)(s.Z,{variant:"h4",children:t}):"",a?(0,r.jsx)(s.Z,{variant:"subtitle2",color:"textSecondary",children:a}):""]}),d]}):null,c]}),v,p]})}},9720:function(e,t,a){"use strict";a.r(t);var r=a(7437),i=a(2265),o=a(8874),s=a(6507),n=a(3724),l=a(9394),c=a(1797),d=a(6337),p=a(3457),u=a(4081),h=a(2510),m=a(4997),v=a(4309),x=a(1975),Z=a(2834),f=a(3701),g=a(6988),j=a(8489),b=a(666),y=a(9279),C=a(3391),k=a(6446),M=a(9108),w=a(4273),E=a(8312),z=a(6718);t.default=()=>{let[e,t]=(0,i.useState)([]),[a,I]=(0,i.useState)([]),[$,S]=(0,i.useState)({id:"",nombre:"",empresa_id:""}),[O,T]=(0,i.useState)(!1),[A,V]=(0,i.useState)(!1),[H,N]=(0,i.useState)(null),[P,F]=(0,i.useState)(!1),[_,B]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),a=await fetch("http://localhost:8080/restful/services/simple.Modelos/actions/verModelos/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),r=await a.json(),i=r.sort((e,t)=>e.id-t.id);t(i)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]),(0,i.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),t=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/VerEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),a=await t.json();console.log(a),I(a)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let L=()=>{T(!1)},D=()=>{V(!1)},G=e=>{if("target"in e){let{name:t,value:a}=e.target;console.log("TextField Change - name: ".concat(t,", value: ").concat(a)),S(e=>({...e,[t||""]:a}))}else{var t;let a=(null===(t=e.target)||void 0===t?void 0:t.value)||"";console.log("Select Change - selectedValue: ".concat(a)),S(e=>({...e,tipoEmpresa:a}))}},R=async()=>{try{let e="Basic "+btoa("sven:pass"),t=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat($.empresa_id,"/actions/agregarModelo/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:$.nombre}})});t.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},W=async e=>{try{let t="Basic "+btoa("sven:pass"),a=await fetch("http://localhost:8080/restful/objects/modelos.Modelo/".concat(e.id),{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:t,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});if(a.ok){let t=await a.json(),r=t.empresa.href.split("/").pop();S({id:t.id,nombre:t.nombre,empresa_id:r}),N(e.id),V(!0)}else console.error("Error al obtener los datos de la empresa")}catch(e){console.error("Error al realizar la solicitud:",e)}},q=async()=>{try{let e="Basic "+btoa("sven:pass"),t=await fetch("http://localhost:8080/restful/objects/modelos.Modelo/".concat($.id,"/actions/updateName/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:$.nombre}})});t.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},J=async(e,t)=>{try{let a="http://localhost:8080/restful/objects/modelos.Modelo/".concat(e,"/actions/").concat(t?"delete":"activar","/invoke"),r="Basic "+btoa("sven:pass"),i=await fetch(a,{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:r,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});i.ok?B('Acci\xf3n "'.concat(t?"Desactivar":"Activar",'" completada con \xe9xito')):B("Error al realizar la acci\xf3n: ".concat(i.statusText)),F(!0)}catch(e){B("Error al realizar la solicitud"),F(!0)}};return(0,r.jsx)(o.ZP,{container:!0,spacing:0,children:(0,r.jsxs)(o.ZP,{item:!0,xs:12,lg:12,children:[(0,r.jsxs)(s.Z,{display:"flex",justifyContent:"space-between",children:[(0,r.jsx)(n.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{T(!0)},children:"Agregar Modelo"}),(0,r.jsx)(n.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:w.Z[500],"&:hover":{backgroundColor:w.Z[700]}},startIcon:(0,r.jsx)(M.Z,{}),onClick:()=>{},children:"Exportar a PDF"})]}),(0,r.jsxs)(l.Z,{open:O,onClose:L,children:[(0,r.jsx)(c.Z,{children:"Agregar Modelo"}),(0,r.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,r.jsx)(o.ZP,{item:!0,xs:12,lg:12,children:(0,r.jsx)(E.Z,{title:"Complete el Formulario del Modelo",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p.Z,{spacing:3,children:[(0,r.jsxs)(u.Z,{fullWidth:!0,children:[(0,r.jsx)(h.Z,{id:"modelo-label",children:"Empresa"}),(0,r.jsx)(m.Z,{labelId:"empresa-label",id:"empresa",name:"empresa_id",label:"Empresa",value:$.empresa_id,onChange:e=>S({...$,empresa_id:e.target.value}),children:a.map(e=>(0,r.jsx)(v.Z,{value:e.id,children:e.name},e.id))})]}),(0,r.jsx)(x.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:$.nombre,onChange:G})]}),(0,r.jsx)("br",{}),(0,r.jsx)(n.Z,{onClick:R,children:"Cargar"})]})})})}),(0,r.jsx)(Z.Z,{children:(0,r.jsx)(n.Z,{onClick:L,children:"Cancelar"})})]}),(0,r.jsx)(E.Z,{title:"Modelos",children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(g.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(b.Z,{children:"ID"}),(0,r.jsx)(b.Z,{children:"Nombre"}),(0,r.jsx)(b.Z,{children:"Empresa"}),(0,r.jsx)(b.Z,{children:"Activo"}),(0,r.jsx)(b.Z,{children:"Acciones"})]})}),(0,r.jsx)(y.Z,{children:e.map(e=>(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(b.Z,{children:e.id}),(0,r.jsx)(b.Z,{children:e.nombre}),(0,r.jsx)(b.Z,{children:e.empresa.title}),(0,r.jsx)(b.Z,{children:e.activo?"S\xed":"No"}),(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(n.Z,{startIcon:(0,r.jsx)(C.Z,{}),color:"primary",onClick:()=>W(e),children:"Editar"})," ",(0,r.jsxs)(l.Z,{open:A,onClose:D,children:[(0,r.jsx)(c.Z,{children:"Editar Modelo"}),(0,r.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,r.jsx)(o.ZP,{item:!0,xs:12,lg:12,children:(0,r.jsx)(E.Z,{title:"Editar Modelo",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{spacing:3,children:(0,r.jsx)(x.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:$.nombre,onChange:G})}),(0,r.jsx)("br",{}),(0,r.jsx)(n.Z,{onClick:q,children:"Confirmar Edici\xf3n"})]})})})}),(0,r.jsx)(Z.Z,{children:(0,r.jsx)(n.Z,{onClick:D,children:"Cancelar"})})]}),(0,r.jsx)(n.Z,{startIcon:e.activo?(0,r.jsx)(k.Z,{}):(0,r.jsx)(z.Z,{}),color:e.activo?"secondary":"success",onClick:()=>J(e.id,e.activo),children:e.activo?"Desactivar":"Activar"}),(0,r.jsx)(l.Z,{open:P,onClose:()=>F(!1),children:(0,r.jsxs)(d.Z,{children:[_,(0,r.jsx)(n.Z,{onClick:()=>window.location.reload(),children:"Aceptar"})]})})]})]},e.id))})]})})]})})}}},function(e){e.O(0,[370,468,238,874,659,756,413,491,971,596,744],function(){return e(e.s=5588)}),_N_E=e.O()}]);