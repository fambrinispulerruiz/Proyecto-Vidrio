(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{6446:function(e,o,r){"use strict";var a=r(6314);o.Z=void 0;var i=a(r(984)),l=r(7437),n=(0,i.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");o.Z=n},3391:function(e,o,r){"use strict";var a=r(6314);o.Z=void 0;var i=a(r(984)),l=r(7437),n=(0,i.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");o.Z=n},8851:function(e,o,r){Promise.resolve().then(r.bind(r,1908))},8312:function(e,o,r){"use strict";var a=r(7437);r(2265);var i=r(5133),l=r(8469),n=r(3226),s=r(3457),t=r(6507);o.Z=e=>{let{title:o,subtitle:r,children:c,action:d,footer:p,cardheading:h,headtitle:u,headsubtitle:m,middlecontent:x}=e;return(0,a.jsxs)(i.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[h?(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(n.Z,{variant:"h4",children:u}),(0,a.jsx)(n.Z,{variant:"subtitle2",color:"textSecondary",children:m})]}):(0,a.jsxs)(l.Z,{sx:{p:"30px"},children:[o?(0,a.jsxs)(s.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,a.jsxs)(t.Z,{children:[o?(0,a.jsx)(n.Z,{variant:"h4",children:o}):"",r?(0,a.jsx)(n.Z,{variant:"subtitle2",color:"textSecondary",children:r}):""]}),d]}):null,c]}),x,p]})}},1908:function(e,o,r){"use strict";r.r(o);var a=r(7437),i=r(2265),l=r(8874),n=r(6507),s=r(3724),t=r(9394),c=r(1797),d=r(6337),p=r(3457),h=r(1975),u=r(4081),m=r(2510),x=r(4997),j=r(4309),v=r(2834),Z=r(3701),f=r(6988),b=r(8489),g=r(666),E=r(9279),C=r(3391),y=r(6446),k=r(9108),w=r(4273),T=r(8312);o.default=()=>{let[e,o]=(0,i.useState)(!1),[r,z]=(0,i.useState)(!1),[P,S]=(0,i.useState)(null),[A,N]=(0,i.useState)([]),[W,I]=(0,i.useState)({id:"",nombre:"",domicilio:"",telefono:"",correo:"",tipoEmpresa:""}),_=async e=>{try{let o="Basic "+btoa("sven:pass"),r=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat(e.id),{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:o,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});if(r.ok){let o=await r.json();I({id:o.id,nombre:o.name,domicilio:o.domicilio,telefono:o.telefono,correo:o.correo,tipoEmpresa:o.tipoEmpresa}),S(e.id),z(!0)}else console.error("Error al obtener los datos de la empresa")}catch(e){console.error("Error al realizar la solicitud:",e)}},D=()=>{o(!1)},F=()=>{z(!1)};(0,i.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/VerEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),r=await o.json();N(r)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let B=e=>{if("target"in e){let{name:o,value:r}=e.target;console.log("TextField Change - name: ".concat(o,", value: ").concat(r)),I(e=>({...e,[o||""]:r}))}else{var o;let r=(null===(o=e.target)||void 0===o?void 0:o.value)||"";console.log("Select Change - selectedValue: ".concat(r)),I(e=>({...e,tipoEmpresa:r}))}},O=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/CrearEmpresa/invoke",{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:W.nombre},domicilio:{value:W.domicilio},telefono:{value:W.telefono},correo:{value:W.correo},tipoEmpresa:{value:W.tipoEmpresa}})});o.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},V=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/services/simple.Reportes/actions/generarReporteEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),r=await o.json();if(console.log(r),r&&r.result&&r.result.value){let e=r.result.value;window.open(e,"_blank")}else console.error("La respuesta del servidor no contiene el enlace al PDF.")}catch(e){console.error("Error al realizar la solicitud:",e)}},M=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat(W.id,"/actions/updateName/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:W.nombre},domicilio:{value:W.domicilio},telefono:{value:W.telefono},correo:{value:W.correo},tipoEmpresa:{value:W.tipoEmpresa}})});o.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},G=[{id:"Cliente",nombre:"Cliente"},{id:"Proveedor",nombre:"Proveedor"}];return(0,a.jsx)(l.ZP,{container:!0,spacing:0,children:(0,a.jsxs)(l.ZP,{item:!0,xs:12,lg:12,children:[(0,a.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",children:[(0,a.jsx)(s.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{o(!0)},children:"Agregar Empresa"}),(0,a.jsx)(s.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:w.Z[500],"&:hover":{backgroundColor:w.Z[700]}},startIcon:(0,a.jsx)(k.Z,{}),onClick:V,children:"Exportar a PDF"})]}),(0,a.jsxs)(t.Z,{open:e,onClose:D,children:[(0,a.jsx)(c.Z,{children:"Agregar Empresa"}),(0,a.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,a.jsx)(l.ZP,{item:!0,xs:12,lg:12,children:(0,a.jsx)(T.Z,{title:"Complete el Formulario de la Empresa",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.Z,{spacing:3,children:[(0,a.jsx)(h.Z,{id:"nombre",label:"Nombre",name:"nombre",variant:"outlined",fullWidth:!0,value:W.nombre,onChange:B}),(0,a.jsx)(h.Z,{id:"domicilio",label:"Domicilio",name:"domicilio",variant:"outlined",fullWidth:!0,value:W.domicilio,onChange:B}),(0,a.jsx)(h.Z,{id:"telefono",label:"Telefono",name:"telefono",variant:"outlined",fullWidth:!0,value:W.telefono,onChange:B}),(0,a.jsx)(h.Z,{id:"email",label:"Correo",name:"correo",variant:"outlined",fullWidth:!0,value:W.correo,onChange:B}),(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(m.Z,{id:"modelo-label",children:"Tipo de Empresa"}),(0,a.jsx)(x.Z,{labelId:"tipoempresa-label",id:"tipoempresa",label:"TipoEmpresa",name:"tipoEmpresa",value:W.tipoEmpresa,onChange:B,children:G.map(e=>(0,a.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(s.Z,{onClick:O,children:"Cargar"})]})})})}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(s.Z,{onClick:D,children:"Cancelar"})})]}),(0,a.jsx)(T.Z,{title:"Empresas",children:(0,a.jsxs)(Z.Z,{children:[(0,a.jsx)(f.Z,{children:(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(g.Z,{children:"ID"}),(0,a.jsx)(g.Z,{children:"Nombre"}),(0,a.jsx)(g.Z,{children:"Tipo de Empresa"}),(0,a.jsx)(g.Z,{children:"Telefono"}),(0,a.jsx)(g.Z,{children:"Correo"}),(0,a.jsx)(g.Z,{children:"Acciones"})]})}),(0,a.jsx)(E.Z,{children:A.map(e=>(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(g.Z,{children:e.id}),(0,a.jsx)(g.Z,{children:e.name}),(0,a.jsx)(g.Z,{children:e.tipoEmpresa}),(0,a.jsx)(g.Z,{children:e.telefono}),(0,a.jsx)(g.Z,{children:e.correo}),(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(s.Z,{startIcon:(0,a.jsx)(C.Z,{}),color:"primary",onClick:()=>_(e),children:"Editar"}),(0,a.jsxs)(t.Z,{open:r,onClose:F,children:[(0,a.jsx)(c.Z,{children:"Editar Empresa"}),(0,a.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,a.jsx)(l.ZP,{item:!0,xs:12,lg:12,children:(0,a.jsx)(T.Z,{title:"Editar Empresa",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.Z,{spacing:3,children:[(0,a.jsx)(h.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:W.nombre,onChange:B}),(0,a.jsx)(h.Z,{id:"telefono",name:"telefono",label:"Telefono",variant:"outlined",fullWidth:!0,value:W.telefono,onChange:B}),(0,a.jsx)(h.Z,{id:"email",name:"correo",label:"Correo",variant:"outlined",fullWidth:!0,value:W.correo,onChange:B}),(0,a.jsxs)(u.Z,{fullWidth:!0,children:[(0,a.jsx)(m.Z,{id:"modelo-label",children:"Tipo de Empresa"}),(0,a.jsx)(x.Z,{labelId:"tipoempresa-label",id:"tipoempresa",name:"tipoEmpresa",label:"TipoEmpresa",value:W.tipoEmpresa,onChange:B,children:G.map(e=>(0,a.jsx)(j.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(s.Z,{onClick:M,children:"Confirmar Edici\xf3n"})]})})})}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(s.Z,{onClick:F,children:"Cancelar"})})]}),(0,a.jsx)(s.Z,{startIcon:(0,a.jsx)(y.Z,{}),color:"secondary",children:"Desactivar"})]})]},e.id))})]})})]})})}}},function(e){e.O(0,[370,468,238,874,659,756,413,798,869,971,596,744],function(){return e(e.s=8851)}),_N_E=e.O()}]);