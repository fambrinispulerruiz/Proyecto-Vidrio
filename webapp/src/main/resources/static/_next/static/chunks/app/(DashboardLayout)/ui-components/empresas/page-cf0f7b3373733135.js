(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{6718:function(e,i,a){"use strict";var o=a(6314);i.Z=void 0;var t=o(a(984)),r=a(7437),n=(0,t.default)((0,r.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");i.Z=n},6446:function(e,i,a){"use strict";var o=a(6314);i.Z=void 0;var t=o(a(984)),r=a(7437),n=(0,t.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");i.Z=n},9108:function(e,i,a){"use strict";var o=a(6314);i.Z=void 0;var t=o(a(984)),r=a(7437),n=(0,t.default)((0,r.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");i.Z=n},5563:function(e,i,a){"use strict";a.d(i,{V:function(){return r}});var o=a(6520),t=a(5702);function r(e){return(0,t.Z)("MuiDivider",e)}let n=(0,o.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);i.Z=n},8342:function(e,i,a){"use strict";a.d(i,{f:function(){return r}});var o=a(6520),t=a(5702);function r(e){return(0,t.Z)("MuiListItemIcon",e)}let n=(0,o.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);i.Z=n},9660:function(e,i,a){"use strict";a.d(i,{L:function(){return r}});var o=a(6520),t=a(5702);function r(e){return(0,t.Z)("MuiListItemText",e)}let n=(0,o.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);i.Z=n},4309:function(e,i,a){"use strict";a.d(i,{Z:function(){return T}});var o=a(791),t=a(3428),r=a(2265),n=a(7042),l=a(5600),s=a(9975),c=a(5843),d=a(7927),p=a(7820),u=a(6659),h=a(8519),m=a(7663),v=a(5563),x=a(8342),Z=a(9660),f=a(6520),j=a(5702);function b(e){return(0,j.Z)("MuiMenuItem",e)}let g=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=a(7437);let y=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],E=e=>{let{disabled:i,dense:a,divider:o,disableGutters:r,selected:n,classes:s}=e,c=(0,l.Z)({root:["root",a&&"dense",i&&"disabled",!r&&"gutters",o&&"divider",n&&"selected"]},b,s);return(0,t.Z)({},s,c)},k=(0,c.ZP)(u.Z,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,i)=>{let{ownerState:a}=e;return[i.root,a.dense&&i.dense,a.divider&&i.divider,!a.disableGutters&&i.gutters]}})(({theme:e,ownerState:i})=>(0,t.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${g.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${g.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${g.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${g.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${g.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v.Z.inset}`]:{marginLeft:52},[`& .${Z.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.Z.inset}`]:{paddingLeft:36},[`& .${x.Z.root}`]:{minWidth:36}},!i.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},i.dense&&(0,t.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${x.Z.root} svg`]:{fontSize:"1.25rem"}}))),w=r.forwardRef(function(e,i){let a;let l=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:c="li",dense:u=!1,divider:v=!1,disableGutters:x=!1,focusVisibleClassName:Z,role:f="menuitem",tabIndex:j,className:b}=l,g=(0,o.Z)(l,y),w=r.useContext(p.Z),T=r.useMemo(()=>({dense:u||w.dense||!1,disableGutters:x}),[w.dense,u,x]),z=r.useRef(null);(0,h.Z)(()=>{s&&z.current&&z.current.focus()},[s]);let I=(0,t.Z)({},l,{dense:T.dense,divider:v,disableGutters:x}),M=E(l),$=(0,m.Z)(z,i);return l.disabled||(a=void 0!==j?j:-1),(0,C.jsx)(p.Z.Provider,{value:T,children:(0,C.jsx)(k,(0,t.Z)({ref:$,role:f,tabIndex:a,component:c,focusVisibleClassName:(0,n.Z)(M.focusVisible,Z),className:(0,n.Z)(M.root,b)},g,{ownerState:I,classes:M}))})});var T=w},8851:function(e,i,a){Promise.resolve().then(a.bind(a,1908))},8312:function(e,i,a){"use strict";var o=a(7437);a(2265);var t=a(5133),r=a(8469),n=a(3226),l=a(3457),s=a(6507);i.Z=e=>{let{title:i,subtitle:a,children:c,action:d,footer:p,cardheading:u,headtitle:h,headsubtitle:m,middlecontent:v}=e;return(0,o.jsxs)(t.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[u?(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(n.Z,{variant:"h4",children:h}),(0,o.jsx)(n.Z,{variant:"subtitle2",color:"textSecondary",children:m})]}):(0,o.jsxs)(r.Z,{sx:{p:"30px"},children:[i?(0,o.jsxs)(l.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,o.jsxs)(s.Z,{children:[i?(0,o.jsx)(n.Z,{variant:"h4",children:i}):"",a?(0,o.jsx)(n.Z,{variant:"subtitle2",color:"textSecondary",children:a}):""]}),d]}):null,c]}),v,p]})}},1908:function(e,i,a){"use strict";a.r(i);var o=a(7437),t=a(2265),r=a(8874),n=a(6507),l=a(3724),s=a(9394),c=a(1797),d=a(6337),p=a(3457),u=a(1975),h=a(4081),m=a(2510),v=a(4997),x=a(4309),Z=a(2834),f=a(3701),j=a(6988),b=a(8489),g=a(666),C=a(9279),y=a(3391),E=a(6446),k=a(9108),w=a(4273),T=a(8312),z=a(6718);i.default=()=>{let[e,i]=(0,t.useState)(!1),[a,I]=(0,t.useState)(!1),[M,$]=(0,t.useState)(null),[O,S]=(0,t.useState)(!1),[A,V]=(0,t.useState)(""),[P,H]=(0,t.useState)([]),[F,N]=(0,t.useState)({id:"",nombre:"",domicilio:"",telefono:"",correo:"",tipoEmpresa:""}),D=async e=>{try{let i="Basic "+btoa("sven:pass"),a=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat(e.id),{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:i,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});if(a.ok){let i=await a.json();N({id:i.id,nombre:i.name,domicilio:i.domicilio,telefono:i.telefono,correo:i.correo,tipoEmpresa:i.tipoEmpresa}),$(e.id),I(!0)}else console.error("Error al obtener los datos de la empresa")}catch(e){console.error("Error al realizar la solicitud:",e)}},W=()=>{i(!1)},B=()=>{I(!1)};(0,t.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/VerEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis/v2"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2"}}),a=await i.json(),o=a.sort((e,i)=>e.id-i.id);H(o)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let L=e=>{if("target"in e){let{name:i,value:a}=e.target;console.log("TextField Change - name: ".concat(i,", value: ").concat(a)),N(e=>({...e,[i||""]:a}))}else{var i;let a=(null===(i=e.target)||void 0===i?void 0:i.value)||"";console.log("Select Change - selectedValue: ".concat(a)),N(e=>({...e,tipoEmpresa:a}))}},R=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/CrearEmpresa/invoke",{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:F.nombre},domicilio:{value:F.domicilio},telefono:{value:F.telefono},correo:{value:F.correo},tipoEmpresa:{value:F.tipoEmpresa}})});i.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},_=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/services/simple.Reportes/actions/generarReporteEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),a=await i.json();if(console.log(a),a&&a.result&&a.result.value){let e=a.result.value;window.open(e,"_blank")}else console.error("La respuesta del servidor no contiene el enlace al PDF.")}catch(e){console.error("Error al realizar la solicitud:",e)}},G=async()=>{try{let e="Basic "+btoa("sven:pass"),i=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat(F.id,"/actions/updateName/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:F.nombre},domicilio:{value:F.domicilio},telefono:{value:F.telefono},correo:{value:F.correo},tipoEmpresa:{value:F.tipoEmpresa}})});i.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},q=async(e,i)=>{try{let a="http://localhost:8080/restful/objects/vidrios.Empresa/".concat(e,"/actions/").concat(i?"delete":"activar","/invoke"),o="Basic "+btoa("sven:pass"),t=await fetch(a,{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:o,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});t.ok?V('Acci\xf3n "'.concat(i?"Desactivar":"Activar",'" completada con \xe9xito')):V("Error al realizar la acci\xf3n: ".concat(t.statusText)),S(!0)}catch(e){V("Error al realizar la solicitud"),S(!0)}},J=[{id:"Cliente",nombre:"Cliente"},{id:"Proveedor",nombre:"Proveedor"}];return(0,o.jsx)(r.ZP,{container:!0,spacing:0,children:(0,o.jsxs)(r.ZP,{item:!0,xs:12,lg:12,children:[(0,o.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",children:[(0,o.jsx)(l.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{i(!0)},children:"Agregar Empresa"}),(0,o.jsx)(l.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:w.Z[500],"&:hover":{backgroundColor:w.Z[700]}},startIcon:(0,o.jsx)(k.Z,{}),onClick:_,children:"Exportar a PDF"})]}),(0,o.jsxs)(s.Z,{open:e,onClose:W,children:[(0,o.jsx)(c.Z,{children:"Agregar Empresa"}),(0,o.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,o.jsx)(r.ZP,{item:!0,xs:12,lg:12,children:(0,o.jsx)(T.Z,{title:"Complete el Formulario de la Empresa",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{spacing:3,children:[(0,o.jsx)(u.Z,{id:"nombre",label:"Nombre",name:"nombre",variant:"outlined",fullWidth:!0,value:F.nombre,onChange:L}),(0,o.jsx)(u.Z,{id:"domicilio",label:"Domicilio",name:"domicilio",variant:"outlined",fullWidth:!0,value:F.domicilio,onChange:L}),(0,o.jsx)(u.Z,{id:"telefono",label:"Telefono",name:"telefono",variant:"outlined",fullWidth:!0,value:F.telefono,onChange:L}),(0,o.jsx)(u.Z,{id:"email",label:"Correo",name:"correo",variant:"outlined",fullWidth:!0,value:F.correo,onChange:L}),(0,o.jsxs)(h.Z,{fullWidth:!0,children:[(0,o.jsx)(m.Z,{id:"modelo-label",children:"Tipo de Empresa"}),(0,o.jsx)(v.Z,{labelId:"tipoempresa-label",id:"tipoempresa",label:"TipoEmpresa",name:"tipoEmpresa",value:F.tipoEmpresa,onChange:L,children:J.map(e=>(0,o.jsx)(x.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{onClick:R,children:"Cargar"})]})})})}),(0,o.jsx)(Z.Z,{children:(0,o.jsx)(l.Z,{onClick:W,children:"Cancelar"})})]}),(0,o.jsx)(T.Z,{title:"Empresas",children:(0,o.jsxs)(f.Z,{children:[(0,o.jsx)(j.Z,{children:(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(g.Z,{children:"ID"}),(0,o.jsx)(g.Z,{children:"Nombre"}),(0,o.jsx)(g.Z,{children:"Tipo de Empresa"}),(0,o.jsx)(g.Z,{children:"Telefono"}),(0,o.jsx)(g.Z,{children:"Correo"}),(0,o.jsx)(g.Z,{children:"Domicilio"}),(0,o.jsx)(g.Z,{children:"Activo"}),(0,o.jsx)(g.Z,{children:"Acciones"})]})}),(0,o.jsx)(C.Z,{children:P.map(e=>(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(g.Z,{children:e.id}),(0,o.jsx)(g.Z,{children:e.name}),(0,o.jsx)(g.Z,{children:e.tipoEmpresa}),(0,o.jsx)(g.Z,{children:e.telefono}),(0,o.jsx)(g.Z,{children:e.correo}),(0,o.jsx)(g.Z,{children:e.domicilio}),(0,o.jsx)(g.Z,{children:e.activo?"S\xed":"No"}),(0,o.jsxs)(g.Z,{children:[(0,o.jsx)(l.Z,{startIcon:(0,o.jsx)(y.Z,{}),color:"primary",onClick:()=>D(e),children:"Editar"}),(0,o.jsxs)(s.Z,{open:a,onClose:B,children:[(0,o.jsx)(c.Z,{children:"Editar Empresa"}),(0,o.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,o.jsx)(r.ZP,{item:!0,xs:12,lg:12,children:(0,o.jsx)(T.Z,{title:"Editar Empresa",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(p.Z,{spacing:3,children:[(0,o.jsx)(u.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:F.nombre,onChange:L}),(0,o.jsx)(u.Z,{id:"domicilio",name:"domicilio",label:"Domicilio",variant:"outlined",fullWidth:!0,value:F.domicilio,onChange:L}),(0,o.jsx)(u.Z,{id:"telefono",name:"telefono",label:"Telefono",variant:"outlined",fullWidth:!0,value:F.telefono,onChange:L}),(0,o.jsx)(u.Z,{id:"email",name:"correo",label:"Correo",variant:"outlined",fullWidth:!0,value:F.correo,onChange:L}),(0,o.jsxs)(h.Z,{fullWidth:!0,children:[(0,o.jsx)(m.Z,{id:"modelo-label",children:"Tipo de Empresa"}),(0,o.jsx)(v.Z,{labelId:"tipoempresa-label",id:"tipoempresa",name:"tipoEmpresa",label:"TipoEmpresa",value:F.tipoEmpresa,onChange:L,children:J.map(e=>(0,o.jsx)(x.Z,{value:e.id,children:e.nombre},e.id))})]})]}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{onClick:G,children:"Confirmar Edici\xf3n"})]})})})}),(0,o.jsx)(Z.Z,{children:(0,o.jsx)(l.Z,{onClick:B,children:"Cancelar"})})]}),(0,o.jsx)(l.Z,{startIcon:e.activo?(0,o.jsx)(E.Z,{}):(0,o.jsx)(z.Z,{}),color:e.activo?"secondary":"success",onClick:()=>q(e.id,e.activo),children:e.activo?"Desactivar":"Activar"}),(0,o.jsx)(s.Z,{open:O,onClose:()=>S(!1),children:(0,o.jsxs)(d.Z,{children:[A,(0,o.jsx)(l.Z,{onClick:()=>window.location.reload(),children:"Aceptar"})]})})]})]},e.id))})]})})]})})}}},function(e){e.O(0,[370,468,238,874,659,756,413,491,971,596,744],function(){return e(e.s=8851)}),_N_E=e.O()}]);