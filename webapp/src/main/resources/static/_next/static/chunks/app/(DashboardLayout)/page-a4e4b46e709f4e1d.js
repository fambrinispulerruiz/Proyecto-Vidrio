(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{42480:function(){},4201:function(e,r,a){Promise.resolve().then(a.bind(a,56675))},49862:function(e,r,a){"use strict";var t=a(57437),i=a(18219);r.Z=e=>{let{title:r,description:a,children:l}=e;return(0,t.jsx)(i.B6,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.ql,{children:[(0,t.jsx)("title",{children:r}),(0,t.jsx)("meta",{name:"description",content:a})]}),l]})})}},18312:function(e,r,a){"use strict";var t=a(57437);a(2265);var i=a(15133),l=a(88469),o=a(43226),n=a(13457),s=a(96507);r.Z=e=>{let{title:r,subtitle:a,children:d,action:c,footer:h,cardheading:x,headtitle:u,headsubtitle:g,middlecontent:p}=e;return(0,t.jsxs)(i.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[x?(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(o.Z,{variant:"h4",children:u}),(0,t.jsx)(o.Z,{variant:"subtitle2",color:"textSecondary",children:g})]}):(0,t.jsxs)(l.Z,{sx:{p:"30px"},children:[r?(0,t.jsxs)(n.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,t.jsxs)(s.Z,{children:[r?(0,t.jsx)(o.Z,{variant:"h4",children:r}):"",a?(0,t.jsx)(o.Z,{variant:"subtitle2",color:"textSecondary",children:a}):""]}),c]}):null,d]}),p,h]})}},56675:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return L}});var t=a(57437),i=a(2265),l=a(96507),o=a(28874),n=a(73724),s=a(89394),d=a(91797),c=a(26337),h=a(13457),x=a(84081),u=a(2510),g=a(54997),p=a(74309),j=a(21975),v=a(40182),m=a(51469),b=a(42834),f=a(49862),y=a(41101),Z=a(98864),C=a.n(Z),S=a(83878);let A=C()(()=>Promise.all([a.e(562),a.e(80)]).then(a.bind(a,82080)),{loadableGenerated:{webpack:()=>[82080]},ssr:!1});var w=()=>{let e=(0,y.Z)(),r=e.palette.primary.main,a=e.palette.secondary.main;return(0,t.jsx)(S.Z,{title:"Ordenes de Trabajo",children:(0,t.jsx)(A,{options:{grid:{show:!0,borderColor:"transparent",strokeDashArray:2,padding:{left:0,right:0,bottom:0}},plotOptions:{bar:{horizontal:!1,columnWidth:"42%",endingShape:"rounded",borderRadius:5}},colors:[r,a],fill:{type:"solid",opacity:1},chart:{offsetX:-15,toolbar:{show:!1},foreColor:"#adb0bb",fontFamily:"inherit",sparkline:{enabled:!1}},dataLabels:{enabled:!1},markers:{size:0},legend:{show:!1},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sept","Oct","Nov","Dec"],labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},yaxis:{show:!0,min:100,max:400,tickAmount:3,labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},stroke:{show:!0,width:5,lineCap:"butt",colors:["transparent"]},tooltip:{theme:"dark"}},series:[{name:"Atendidos",data:[355,390,300,350,390,180,355,390,300,350,390,180]},{name:"Cancelados",data:[280,250,325,215,250,310,280,250,325,215,250,310]}],type:"bar",height:"295px"})})},E=a(66882),O=a(70790),_=a(8714),k=a(60038),z=a(1707),P=a(54872),R=a(92945);let D=[{time:"09:50",color:"success.main",text:"Orden #10"},{time:"10:15",color:"success.main",text:"Orden #15"},{time:"11:00",color:"warning.main",text:"Orden #9 (Cancelado)"},{time:"16:00",color:"warning.main",text:"Entrega de Vehiculos"},{time:"17:00",color:"error.main",text:"Cierre"}];var B=()=>(0,t.jsx)(S.Z,{title:"Ordenes de Hoy",children:(0,t.jsx)(E.Z,{sx:{p:0},children:D.map(e=>(0,t.jsxs)(O.Z,{children:[(0,t.jsx)(P.Z,{sx:{fontSize:"12px",fontWeight:"700",flex:"0"},children:e.time}),(0,t.jsxs)(_.Z,{children:[(0,t.jsx)(R.Z,{variant:"outlined",sx:{borderColor:e.color}}),(0,t.jsx)(k.Z,{})]}),(0,t.jsx)(z.Z,{color:"text.secondary",sx:{fontSize:"14px"},children:e.text})]},e.time))})}),N=a(46676),T=a(18312),W=a(9108),G=a(34273),I=a(14340),F=a(88613),L=()=>{let[e,r]=(0,i.useState)(!1),[a,y]=(0,i.useState)([]),[Z,C]=(0,i.useState)(!1),[S,A]=(0,i.useState)(""),[E,O]=(0,i.useState)(""),[_,k]=(0,i.useState)({id:"",nombreAsegurado:"",patente:"",estado:"",propio:"",nroSiniestro:"",aseguradora:"",fecha:"",orden:"",telefonoAsegurado:"",vidrio_id:"",observaciones:"",activo:""}),z=()=>{r(!1)};(0,i.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),r=await fetch("http://localhost:8080/restful/services/simple.Vidrios/actions/verVidrios/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),a=await r.json();console.log(a),y(a)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let P=e=>{if("target"in e){let{name:r,value:a}=e.target;console.log("TextField Change - name: ".concat(r,", value: ").concat(a)),k(e=>({...e,[r||""]:a}))}else{var r;let a=(null===(r=e.target)||void 0===r?void 0:r.value)||"";console.log("Select Change - selectedValue: ".concat(a)),k(e=>({...e,tipoEmpresa:a}))}},R=async()=>{try{let e="Basic "+btoa("sven:pass"),r="".concat(S," ").concat(E,":00"),a=await fetch("http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(_.vidrio_id,"/actions/agregarOrden/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombreAsegurado:{value:_.nombreAsegurado},patente:{value:_.patente},estado:{value:_.estado},propio:{value:_.propio},nroSiniestro:{value:_.nroSiniestro},aseguradora:{value:_.aseguradora},fecha:{value:r},orden:{value:Z?"Si":"No"},telefonoAsegurado:{value:_.telefonoAsegurado},observaciones:{value:_.observaciones}})});a.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},D=I.mM.create({section:{margin:10,padding:10,flexGrow:1},page:{flexDirection:"column",backgroundColor:"#E4E4E4",padding:20},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},headerLeft:{flexDirection:"column",width:"40%"},headerRight:{flexDirection:"column",width:"40%",textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},table:{display:"flex",flexDirection:"column",width:"auto",marginBottom:20},rowH:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30,backgroundColor:"#2249839e"},rowC:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30},headerCell:{color:"#ffffff"},cell:{margin:"auto",fontSize:10,padding:5,textAlign:"center"},date:{fontSize:12,color:"#555"}}),L=e=>{let{data:r}=e,a=new Date,i="".concat(a.getDate(),"/").concat(a.getMonth()+1,"/").concat(a.getFullYear());return(0,t.jsx)(I.BB,{children:(0,t.jsxs)(I.T3,{size:"A4",style:D.page,children:[(0,t.jsxs)(I.G7,{style:D.header,children:[(0,t.jsxs)(I.G7,{style:D.headerLeft,children:[(0,t.jsx)(I.xv,{style:{fontSize:14,marginBottom:5},children:"El Emporio de el Vidrio"}),(0,t.jsx)(I.xv,{style:{fontSize:10,color:"#555"},children:"Direcci\xf3n: Pasaje Sayi 665"})]}),(0,t.jsxs)(I.G7,{style:D.headerRight,children:[(0,t.jsx)(I.xv,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Registro de Ordenes de Trabajo"}),(0,t.jsxs)(I.xv,{style:{fontSize:12,color:"#555"},children:["Fecha: ",i]})]})]}),(0,t.jsx)(I.xv,{style:D.title,children:"Registro de Ordenes de Trabajo"}),(0,t.jsxs)(I.G7,{style:D.table,children:[(0,t.jsxs)(I.G7,{style:D.rowH,children:[(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"15%"}],children:"ID"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"15%"}],children:"Fecha"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"15%"}],children:"Hora"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"20%"}],children:"Nombre"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"20%"}],children:"Telefono"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"20%"}],children:"Vidrio"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"15%"}],children:"Patente"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"15%"}],children:"Vehiculo"}),(0,t.jsx)(I.xv,{style:[D.cell,D.headerCell,{width:"20%"}],children:"Estado"})]}),r.map(e=>{let r=new Date(e.fecha),a="".concat(r.getDate(),"/").concat(r.getMonth()+1,"/").concat(r.getFullYear()),i="".concat(r.getHours(),":").concat(r.getMinutes());return(0,t.jsxs)(I.G7,{style:D.rowC,children:[(0,t.jsx)(I.xv,{style:[D.cell,{width:"15%"}],children:e.id}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"15%"}],children:a}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"15%"}],children:i}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"20%"}],children:e.nombreAsegurado}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"20%"}],children:e.telefonoAsegurado}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"20%"}],children:e.vidrio.title}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"15%"}],children:e.patente}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"15%"}],children:e.propio}),(0,t.jsx)(I.xv,{style:[D.cell,{width:"20%"}],children:e.estado})]},e.id)})]})]})})},U=async e=>{let r=await (0,I.eA)((0,t.jsx)(L,{data:e})),a=await r.toBlob();(0,F.saveAs)(a,"Reporte de Ordenes - El Emporio del Vidrio.pdf")},V=async()=>{try{let e="Basic "+btoa("sven:pass"),r=await fetch("http://localhost:8080/restful/services/simple.OrdenDeTrabajos/actions/verOrdenesDeTrabajo/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),a=await r.json(),t=a.sort((e,r)=>{let a={"Sin Atender":1,Atendido:2,"Finalizado Y Entregado":3};return a[e.estado]-a[r.estado]});U(t)}catch(e){console.error("Error al realizar la solicitud:",e)}};return(0,t.jsx)(f.Z,{title:"Dashboard",description:"this is Dashboard",children:(0,t.jsx)(l.Z,{mt:3,children:(0,t.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(o.ZP,{item:!0,xs:12,children:(0,t.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",children:[(0,t.jsx)(n.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{r(!0)},children:"Agregar Orden"}),(0,t.jsx)(n.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:G.Z[500],"&:hover":{backgroundColor:G.Z[700]}},startIcon:(0,t.jsx)(W.Z,{}),onClick:V,children:"Exportar a PDF"}),(0,t.jsxs)(s.Z,{open:e,onClose:z,children:[(0,t.jsx)(d.Z,{children:"Agregar Orden"}),(0,t.jsx)(c.Z,{sx:{width:"600px",textAlign:"center"},children:(0,t.jsx)(o.ZP,{item:!0,xs:12,lg:12,children:(0,t.jsx)(T.Z,{title:"Complete los Datos de la Orden",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Z,{spacing:3,children:[(0,t.jsxs)(x.Z,{fullWidth:!0,children:[(0,t.jsx)(u.Z,{id:"vidrio-label",children:"Vidrio a colocar"}),(0,t.jsx)(g.Z,{labelId:"vidrio-label",id:"vidrio",name:"vidrio_id",label:"Vidrio",value:_.vidrio_id,onChange:e=>k({..._,vidrio_id:e.target.value}),children:a.map(e=>(0,t.jsx)(p.Z,{value:e.id,children:e.nombre+" ("+e.modelo.title+")"},e.id))})]}),(0,t.jsx)(j.Z,{id:"fecha",label:"Fecha de realizaci\xf3n",type:"date",name:"fecha",variant:"outlined",fullWidth:!0,value:S,onChange:e=>{A(e.target.value)}}),(0,t.jsx)(j.Z,{id:"hora",label:"Hora",type:"time",variant:"outlined",fullWidth:!0,value:E,onChange:e=>{O(e.target.value)}}),(0,t.jsx)(j.Z,{id:"nombreAsegurado",label:"Nombre del Asegurado",name:"nombreAsegurado",variant:"outlined",fullWidth:!0,value:_.nombreAsegurado,onChange:P}),(0,t.jsx)(j.Z,{id:"telefonoAsegurado",label:"Tel\xe9fono del Asegurado",name:"telefonoAsegurado",variant:"outlined",fullWidth:!0,value:_.telefonoAsegurado,onChange:P}),(0,t.jsxs)(x.Z,{fullWidth:!0,children:[(0,t.jsx)(u.Z,{id:"aseguradora-label",children:"Aseguradora"}),(0,t.jsx)(g.Z,{labelId:"aseguradora",id:"aseguradora",label:"Aseguradora",name:"aseguradora",value:_.aseguradora,onChange:e=>k({..._,aseguradora:e.target.value}),children:[{id:"NO_POSEE",nombre:"No posee"},{id:"ALLIANZ",nombre:"Allianz"},{id:"SANCOR_SEGUROS",nombre:"Sancor Seguros"},{id:"LA_CAJA_SEGUROS",nombre:"La Caja Seguros"},{id:"MAPFRE",nombre:"Mapfre"},{id:"ZURICH",nombre:"Zurich"},{id:"PROVINCIA_SEGUROS",nombre:"Provincia Seguros"},{id:"QBE_SEGUROS_LA_BUENOS_AIRES",nombre:"QBE Seguros La Buenos Aires"},{id:"RIO_URUGUAY_SEGUROS",nombre:"R\xedo Uruguay Seguros"},{id:"FEDERACION_PATRONAL",nombre:"Federaci\xf3n Patronal"},{id:"SAN_CRISTOBAL_SEGUROS",nombre:"San Crist\xf3bal Seguros"}].map(e=>(0,t.jsx)(p.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,t.jsx)(j.Z,{id:"nroSiniestro",label:"Nro Siniestro",name:"nroSiniestro",variant:"outlined",type:"number",inputProps:{min:0,step:"any"},fullWidth:!0,value:_.nroSiniestro,onChange:P}),(0,t.jsx)(v.Z,{control:(0,t.jsx)(m.Z,{checked:Z,onChange:e=>{C(e.target.checked)}}),label:"\xbfTrae orden del seguro?"}),(0,t.jsx)(j.Z,{id:"patente",label:"Patente",name:"patente",variant:"outlined",fullWidth:!0,value:_.patente,onChange:P}),(0,t.jsxs)(x.Z,{fullWidth:!0,children:[(0,t.jsx)(u.Z,{id:"propio-label",children:"Vehiculo"}),(0,t.jsxs)(g.Z,{labelId:"propio-label",id:"propio",label:"Propio",name:"propio",variant:"outlined",fullWidth:!0,value:_.propio,onChange:P,children:[(0,t.jsx)(p.Z,{value:"Propio",children:"Propio"}),(0,t.jsx)(p.Z,{value:"Laboral",children:"Laboral"})]})]}),(0,t.jsx)(j.Z,{id:"observaciones",label:"Observaciones",multiline:!0,rows:4,variant:"outlined",name:"observaciones",fullWidth:!0,value:_.observaciones,onChange:P}),(0,t.jsxs)(x.Z,{fullWidth:!0,children:[(0,t.jsx)(u.Z,{id:"estado-label",children:"Estado de la Orden"}),(0,t.jsxs)(g.Z,{labelId:"estado-label",id:"estado",label:"Estado",name:"estado",value:_.estado,onChange:P,children:[(0,t.jsx)(p.Z,{value:"Sin_Atender",children:"Sin Atender"}),(0,t.jsx)(p.Z,{value:"Atendido",children:"Atendido"}),(0,t.jsx)(p.Z,{value:"Finalizado_y_Entregado",children:"Finalizado y Entregado"})]})]})]}),(0,t.jsx)("br",{}),(0,t.jsx)(n.Z,{onClick:R,children:"Cargar Orden"})]})})})}),(0,t.jsx)(b.Z,{children:(0,t.jsx)(n.Z,{onClick:z,children:"Cancelar"})})]})]})}),(0,t.jsx)(o.ZP,{item:!0,xs:4,children:(0,t.jsx)(B,{})}),(0,t.jsx)(o.ZP,{item:!0,xs:8,children:(0,t.jsx)(w,{})}),(0,t.jsx)(o.ZP,{item:!0,xs:12,lg:12,children:(0,t.jsx)(N.Z,{})})]})})})}}},function(e){e.O(0,[642,48,448,306,370,468,238,874,320,416,133,491,138,861,219,314,520,676,971,596,744],function(){return e(e.s=4201)}),_N_E=e.O()}]);