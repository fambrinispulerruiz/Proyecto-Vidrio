(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{4201:function(e,a,r){Promise.resolve().then(r.bind(r,6675))},9862:function(e,a,r){"use strict";var o=r(7437),i=r(8219);a.Z=e=>{let{title:a,description:r,children:n}=e;return(0,o.jsx)(i.B6,{children:(0,o.jsxs)("div",{children:[(0,o.jsxs)(i.ql,{children:[(0,o.jsx)("title",{children:a}),(0,o.jsx)("meta",{name:"description",content:r})]}),n]})})}},8312:function(e,a,r){"use strict";var o=r(7437);r(2265);var i=r(5133),n=r(8469),t=r(3226),l=r(3457),s=r(6507);a.Z=e=>{let{title:a,subtitle:r,children:d,action:c,footer:u,cardheading:h,headtitle:x,headsubtitle:p,middlecontent:g}=e;return(0,o.jsxs)(i.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[h?(0,o.jsxs)(n.Z,{children:[(0,o.jsx)(t.Z,{variant:"h4",children:x}),(0,o.jsx)(t.Z,{variant:"subtitle2",color:"textSecondary",children:p})]}):(0,o.jsxs)(n.Z,{sx:{p:"30px"},children:[a?(0,o.jsxs)(l.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,o.jsxs)(s.Z,{children:[a?(0,o.jsx)(t.Z,{variant:"h4",children:a}):"",r?(0,o.jsx)(t.Z,{variant:"subtitle2",color:"textSecondary",children:r}):""]}),c]}):null,d]}),g,u]})}},6675:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return L}});var o=r(7437),i=r(2265),n=r(6507),t=r(8874),l=r(3724),s=r(9394),d=r(1797),c=r(6337),u=r(3457),h=r(4081),x=r(2510),p=r(4997),g=r(4309),b=r(1975),v=r(182),j=r(1469),m=r(2834),Z=r(9862),f=r(1101),S=r(8864),A=r.n(S),C=r(3878);let y=A()(()=>Promise.all([r.e(562),r.e(80)]).then(r.bind(r,2080)),{loadableGenerated:{webpack:()=>[2080]},ssr:!1});var E=()=>{let e=(0,f.Z)(),a=e.palette.primary.main,r=e.palette.secondary.main;return(0,o.jsx)(C.Z,{title:"Ordenes de Trabajo",children:(0,o.jsx)(y,{options:{grid:{show:!0,borderColor:"transparent",strokeDashArray:2,padding:{left:0,right:0,bottom:0}},plotOptions:{bar:{horizontal:!1,columnWidth:"42%",endingShape:"rounded",borderRadius:5}},colors:[a,r],fill:{type:"solid",opacity:1},chart:{offsetX:-15,toolbar:{show:!1},foreColor:"#adb0bb",fontFamily:"inherit",sparkline:{enabled:!1}},dataLabels:{enabled:!1},markers:{size:0},legend:{show:!1},xaxis:{type:"category",categories:["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sept","Oct","Nov","Dec"],labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},yaxis:{show:!0,min:100,max:400,tickAmount:3,labels:{style:{cssClass:"grey--text lighten-2--text fill-color"}}},stroke:{show:!0,width:5,lineCap:"butt",colors:["transparent"]},tooltip:{theme:"dark"}},series:[{name:"Atendidos",data:[355,390,300,350,390,180,355,390,300,350,390,180]},{name:"Cancelados",data:[280,250,325,215,250,310,280,250,325,215,250,310]}],type:"bar",height:"295px"})})},_=r(6882),O=r(790),k=r(8714),w=r(38),P=r(1707),R=r(4872),N=r(2945);let I=[{time:"09:50",color:"success.main",text:"Orden #10"},{time:"10:15",color:"success.main",text:"Orden #15"},{time:"11:00",color:"warning.main",text:"Orden #9 (Cancelado)"},{time:"16:00",color:"warning.main",text:"Entrega de Vehiculos"},{time:"17:00",color:"error.main",text:"Cierre"}];var W=()=>(0,o.jsx)(C.Z,{title:"Ordenes de Hoy",children:(0,o.jsx)(_.Z,{sx:{p:0},children:I.map(e=>(0,o.jsxs)(O.Z,{children:[(0,o.jsx)(R.Z,{sx:{fontSize:"12px",fontWeight:"700",flex:"0"},children:e.time}),(0,o.jsxs)(k.Z,{children:[(0,o.jsx)(N.Z,{variant:"outlined",sx:{borderColor:e.color}}),(0,o.jsx)(w.Z,{})]}),(0,o.jsx)(P.Z,{color:"text.secondary",sx:{fontSize:"14px"},children:e.text})]},e.time))})}),U=r(6676),z=r(8312),F=r(9108),T=r(4273),L=()=>{let[e,a]=(0,i.useState)(!1),[r,f]=(0,i.useState)([]),[S,A]=(0,i.useState)(!1),[C,y]=(0,i.useState)(""),[_,O]=(0,i.useState)(""),[k,w]=(0,i.useState)({id:"",nombreAsegurado:"",patente:"",estado:"",propio:"",nroSiniestro:"",aseguradora:"",fecha:"",orden:"",telefonoAsegurado:"",vidrio_id:"",observaciones:"",activo:""}),P=()=>{a(!1)};(0,i.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),a=await fetch("http://localhost:8080/restful/services/simple.Vidrios/actions/verVidrios/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),r=await a.json();console.log(r),f(r)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let R=e=>{if("target"in e){let{name:a,value:r}=e.target;console.log("TextField Change - name: ".concat(a,", value: ").concat(r)),w(e=>({...e,[a||""]:r}))}else{var a;let r=(null===(a=e.target)||void 0===a?void 0:a.value)||"";console.log("Select Change - selectedValue: ".concat(r)),w(e=>({...e,tipoEmpresa:r}))}},N=async()=>{try{let e="Basic "+btoa("sven:pass"),a="".concat(C," ").concat(_,":00"),r=await fetch("http://localhost:8080/restful/objects/vidrios.Vidrio/".concat(k.vidrio_id,"/actions/agregarOrden/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombreAsegurado:{value:k.nombreAsegurado},patente:{value:k.patente},estado:{value:k.estado},propio:{value:k.propio},nroSiniestro:{value:k.nroSiniestro},aseguradora:{value:k.aseguradora},fecha:{value:a},orden:{value:S?"Si":"No"},telefonoAsegurado:{value:k.telefonoAsegurado},observaciones:{value:k.observaciones}})});r.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}};return(0,o.jsx)(Z.Z,{title:"Dashboard",description:"this is Dashboard",children:(0,o.jsx)(n.Z,{mt:3,children:(0,o.jsxs)(t.ZP,{container:!0,spacing:3,children:[(0,o.jsx)(t.ZP,{item:!0,xs:12,children:(0,o.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",children:[(0,o.jsx)(l.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{a(!0)},children:"Agregar Orden"}),(0,o.jsx)(l.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:T.Z[500],"&:hover":{backgroundColor:T.Z[700]}},startIcon:(0,o.jsx)(F.Z,{}),onClick:()=>{let e="tu_url_para_exportar_a_pdf";fetch(e,{method:"GET",headers:{"Content-Type":"application/pdf"}}).then(a=>{if(!a.ok)throw Error("Error al exportar a PDF");window.open(e,"_blank")}).catch(e=>{console.error("Error:",e.message)})},children:"Exportar a PDF"}),(0,o.jsxs)(s.Z,{open:e,onClose:P,children:[(0,o.jsx)(d.Z,{children:"Agregar Orden"}),(0,o.jsx)(c.Z,{sx:{width:"600px",textAlign:"center"},children:(0,o.jsx)(t.ZP,{item:!0,xs:12,lg:12,children:(0,o.jsx)(z.Z,{title:"Complete los Datos de la Orden",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.Z,{spacing:3,children:[(0,o.jsxs)(h.Z,{fullWidth:!0,children:[(0,o.jsx)(x.Z,{id:"vidrio-label",children:"Vidrio a colocar"}),(0,o.jsx)(p.Z,{labelId:"vidrio-label",id:"vidrio",name:"vidrio_id",label:"Vidrio",value:k.vidrio_id,onChange:e=>w({...k,vidrio_id:e.target.value}),children:r.map(e=>(0,o.jsx)(g.Z,{value:e.id,children:e.nombre+" ("+e.modelo.title+")"},e.id))})]}),(0,o.jsx)(b.Z,{id:"fecha",label:"Fecha de realizaci\xf3n",type:"date",name:"fecha",variant:"outlined",fullWidth:!0,value:C,onChange:e=>{y(e.target.value)}}),(0,o.jsx)(b.Z,{id:"hora",label:"Hora",type:"time",variant:"outlined",fullWidth:!0,value:_,onChange:e=>{O(e.target.value)}}),(0,o.jsx)(b.Z,{id:"nombreAsegurado",label:"Nombre del Asegurado",name:"nombreAsegurado",variant:"outlined",fullWidth:!0,value:k.nombreAsegurado,onChange:R}),(0,o.jsx)(b.Z,{id:"telefonoAsegurado",label:"Tel\xe9fono del Asegurado",name:"telefonoAsegurado",variant:"outlined",fullWidth:!0,value:k.telefonoAsegurado,onChange:R}),(0,o.jsxs)(h.Z,{fullWidth:!0,children:[(0,o.jsx)(x.Z,{id:"aseguradora-label",children:"Aseguradora"}),(0,o.jsx)(p.Z,{labelId:"aseguradora",id:"aseguradora",label:"Aseguradora",name:"aseguradora",value:k.aseguradora,onChange:e=>w({...k,aseguradora:e.target.value}),children:[{id:"NO_POSEE",nombre:"No posee"},{id:"ALLIANZ",nombre:"Allianz"},{id:"SANCOR_SEGUROS",nombre:"Sancor Seguros"},{id:"LA_CAJA_SEGUROS",nombre:"La Caja Seguros"},{id:"MAPFRE",nombre:"Mapfre"},{id:"ZURICH",nombre:"Zurich"},{id:"PROVINCIA_SEGUROS",nombre:"Provincia Seguros"},{id:"QBE_SEGUROS_LA_BUENOS_AIRES",nombre:"QBE Seguros La Buenos Aires"},{id:"RIO_URUGUAY_SEGUROS",nombre:"R\xedo Uruguay Seguros"},{id:"FEDERACION_PATRONAL",nombre:"Federaci\xf3n Patronal"},{id:"SAN_CRISTOBAL_SEGUROS",nombre:"San Crist\xf3bal Seguros"}].map(e=>(0,o.jsx)(g.Z,{value:e.id,children:e.nombre},e.id))})]}),(0,o.jsx)(b.Z,{id:"nroSiniestro",label:"Nro Siniestro",name:"nroSiniestro",variant:"outlined",type:"number",inputProps:{min:0,step:"any"},fullWidth:!0,value:k.nroSiniestro,onChange:R}),(0,o.jsx)(v.Z,{control:(0,o.jsx)(j.Z,{checked:S,onChange:e=>{A(e.target.checked)}}),label:"\xbfTrae orden del seguro?"}),(0,o.jsx)(b.Z,{id:"patente",label:"Patente",name:"patente",variant:"outlined",fullWidth:!0,value:k.patente,onChange:R}),(0,o.jsxs)(h.Z,{fullWidth:!0,children:[(0,o.jsx)(x.Z,{id:"propio-label",children:"Vehiculo"}),(0,o.jsxs)(p.Z,{labelId:"propio-label",id:"propio",label:"Propio",name:"propio",variant:"outlined",fullWidth:!0,value:k.propio,onChange:R,children:[(0,o.jsx)(g.Z,{value:"Propio",children:"Propio"}),(0,o.jsx)(g.Z,{value:"Laboral",children:"Laboral"})]})]}),(0,o.jsx)(b.Z,{id:"observaciones",label:"Observaciones",multiline:!0,rows:4,variant:"outlined",name:"observaciones",fullWidth:!0,value:k.observaciones,onChange:R}),(0,o.jsxs)(h.Z,{fullWidth:!0,children:[(0,o.jsx)(x.Z,{id:"estado-label",children:"Estado de la Orden"}),(0,o.jsxs)(p.Z,{labelId:"estado-label",id:"estado",label:"Estado",name:"estado",value:k.estado,onChange:R,children:[(0,o.jsx)(g.Z,{value:"Sin_Atender",children:"Sin Atender"}),(0,o.jsx)(g.Z,{value:"Atendido",children:"Atendido"}),(0,o.jsx)(g.Z,{value:"Finalizado_y_Entregado",children:"Finalizado y Entregado"})]})]})]}),(0,o.jsx)("br",{}),(0,o.jsx)(l.Z,{onClick:N,children:"Cargar Orden"})]})})})}),(0,o.jsx)(m.Z,{children:(0,o.jsx)(l.Z,{onClick:P,children:"Cancelar"})})]})]})}),(0,o.jsx)(t.ZP,{item:!0,xs:4,children:(0,o.jsx)(W,{})}),(0,o.jsx)(t.ZP,{item:!0,xs:8,children:(0,o.jsx)(E,{})}),(0,o.jsx)(t.ZP,{item:!0,xs:12,lg:12,children:(0,o.jsx)(U.Z,{})})]})})})}}},function(e){e.O(0,[370,468,238,874,659,756,413,491,861,219,314,360,676,971,596,744],function(){return e(e.s=4201)}),_N_E=e.O()}]);