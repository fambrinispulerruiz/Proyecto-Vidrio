(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{42480:function(){},36718:function(e,o,r){"use strict";var t=r(26314);o.Z=void 0;var i=t(r(80984)),a=r(57437),s=(0,i.default)((0,a.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");o.Z=s},46446:function(e,o,r){"use strict";var t=r(26314);o.Z=void 0;var i=t(r(80984)),a=r(57437),s=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");o.Z=s},75588:function(e,o,r){Promise.resolve().then(r.bind(r,99720))},18312:function(e,o,r){"use strict";var t=r(57437);r(2265);var i=r(15133),a=r(88469),s=r(43226),l=r(13457),n=r(96507);o.Z=e=>{let{title:o,subtitle:r,children:c,action:d,footer:h,cardheading:p,headtitle:x,headsubtitle:j,middlecontent:u}=e;return(0,t.jsxs)(i.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[p?(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(s.Z,{variant:"h4",children:x}),(0,t.jsx)(s.Z,{variant:"subtitle2",color:"textSecondary",children:j})]}):(0,t.jsxs)(a.Z,{sx:{p:"30px"},children:[o?(0,t.jsxs)(l.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,t.jsxs)(n.Z,{children:[o?(0,t.jsx)(s.Z,{variant:"h4",children:o}):"",r?(0,t.jsx)(s.Z,{variant:"subtitle2",color:"textSecondary",children:r}):""]}),d]}):null,c]}),u,h]})}},99720:function(e,o,r){"use strict";r.r(o);var t=r(57437),i=r(2265),a=r(28874),s=r(96507),l=r(73724),n=r(89394),c=r(91797),d=r(26337),h=r(13457),p=r(84081),x=r(2510),j=r(54997),u=r(74309),m=r(21975),f=r(42834),v=r(73701),g=r(66988),Z=r(98489),b=r(30666),y=r(39279),C=r(13391),w=r(46446),E=r(9108),k=r(34273),z=r(18312),S=r(36718),M=r(14340),A=r(88613);o.default=()=>{let[e,o]=(0,i.useState)([]),[r,B]=(0,i.useState)([]),[T,D]=(0,i.useState)({id:"",nombre:"",empresa_id:""}),[_,G]=(0,i.useState)(!1),[N,P]=(0,i.useState)(!1),[I,F]=(0,i.useState)(null),[W,O]=(0,i.useState)(!1),[V,R]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),r=await fetch("http://localhost:8080/restful/services/simple.Modelos/actions/verModelos/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),t=await r.json(),i=t.sort((e,o)=>e.id-o.id);o(i)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]),(0,i.useEffect)(()=>{let e=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/services/simple.Empresas/actions/VerEmpresas/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),r=await o.json();console.log(r),B(r)}catch(e){console.error("Error al realizar la solicitud:",e)}};e()},[]);let H=()=>{G(!1)},L=()=>{P(!1)},J=e=>{if("target"in e){let{name:o,value:r}=e.target;console.log("TextField Change - name: ".concat(o,", value: ").concat(r)),D(e=>({...e,[o||""]:r}))}else{var o;let r=(null===(o=e.target)||void 0===o?void 0:o.value)||"";console.log("Select Change - selectedValue: ".concat(r)),D(e=>({...e,tipoEmpresa:r}))}},U=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/objects/vidrios.Empresa/".concat(T.empresa_id,"/actions/agregarModelo/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:T.nombre}})});o.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},Y=async e=>{try{let o="Basic "+btoa("sven:pass"),r=await fetch("http://localhost:8080/restful/objects/modelos.Modelo/".concat(e.id),{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:o,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});if(r.ok){let o=await r.json(),t=o.empresa.href.split("/").pop();D({id:o.id,nombre:o.nombre,empresa_id:t}),F(e.id),P(!0)}else console.error("Error al obtener los datos de la empresa")}catch(e){console.error("Error al realizar la solicitud:",e)}},q=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/objects/modelos.Modelo/".concat(T.id,"/actions/updateName/invoke"),{method:"PUT",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"},body:JSON.stringify({nombre:{value:T.nombre}})});o.ok?window.location.reload():console.error("Error al enviar datos a la base de datos.")}catch(e){console.error("Error al realizar la solicitud:",e)}},K=async(e,o)=>{try{let r="http://localhost:8080/restful/objects/modelos.Modelo/".concat(e,"/actions/").concat(o?"delete":"activar","/invoke"),t="Basic "+btoa("sven:pass"),i=await fetch(r,{method:"POST",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:t,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}});i.ok?R('Acci\xf3n "'.concat(o?"Desactivar":"Activar",'" completada con \xe9xito')):R("Error al realizar la acci\xf3n: ".concat(i.statusText)),O(!0)}catch(e){R("Error al realizar la solicitud"),O(!0)}},Q=M.mM.create({section:{margin:10,padding:10,flexGrow:1},page:{flexDirection:"column",backgroundColor:"#E4E4E4",padding:20},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20},headerLeft:{flexDirection:"column",width:"40%"},headerRight:{flexDirection:"column",width:"40%",textAlign:"right"},title:{fontSize:18,fontWeight:"bold",marginBottom:10},table:{display:"flex",flexDirection:"column",width:"auto",marginBottom:20},rowH:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30,backgroundColor:"#2249839e"},rowC:{flexDirection:"row",borderBottomWidth:1,alignItems:"center",height:30},headerCell:{color:"#ffffff"},cell:{margin:"auto",fontSize:10,padding:5,textAlign:"center"},date:{fontSize:12,color:"#555"}}),X=e=>{let{data:o}=e,r=new Date,i="".concat(r.getDate(),"/").concat(r.getMonth()+1,"/").concat(r.getFullYear());return(0,t.jsx)(M.BB,{children:(0,t.jsxs)(M.T3,{size:"A4",style:Q.page,children:[(0,t.jsxs)(M.G7,{style:Q.header,children:[(0,t.jsxs)(M.G7,{style:Q.headerLeft,children:[(0,t.jsx)(M.xv,{style:{fontSize:14,marginBottom:5},children:"El Emporio de el Vidrio"}),(0,t.jsx)(M.xv,{style:{fontSize:10,color:"#555"},children:"Direcci\xf3n: Pasaje Sayi 665"})]}),(0,t.jsxs)(M.G7,{style:Q.headerRight,children:[(0,t.jsx)(M.xv,{style:{fontSize:16,fontWeight:"bold",marginBottom:10},children:"Registro de Modelos"}),(0,t.jsxs)(M.xv,{style:{fontSize:12,color:"#555"},children:["Fecha: ",i]})]})]}),(0,t.jsx)(M.xv,{style:Q.title,children:"Registro de Modelos"}),(0,t.jsxs)(M.G7,{style:Q.table,children:[(0,t.jsxs)(M.G7,{style:Q.rowH,children:[(0,t.jsx)(M.xv,{style:[Q.cell,Q.headerCell,{width:"15%"}],children:"ID"}),(0,t.jsx)(M.xv,{style:[Q.cell,Q.headerCell,{width:"20%"}],children:"Nombre"}),(0,t.jsx)(M.xv,{style:[Q.cell,Q.headerCell,{width:"30%"}],children:"Empresa"})]}),o.map(e=>(0,t.jsxs)(M.G7,{style:Q.rowC,children:[(0,t.jsx)(M.xv,{style:[Q.cell,{width:"15%"}],children:e.id}),(0,t.jsx)(M.xv,{style:[Q.cell,{width:"20%"}],children:e.nombre}),(0,t.jsx)(M.xv,{style:[Q.cell,{width:"15%"}],children:e.empresa.title})]},e.id))]})]})})},$=async e=>{let o=await (0,M.eA)((0,t.jsx)(X,{data:e})),r=await o.toBlob();(0,A.saveAs)(r,"Reporte de Modelos - El Emporio del Vidrio.pdf")},ee=async()=>{try{let e="Basic "+btoa("sven:pass"),o=await fetch("http://localhost:8080/restful/services/simple.Modelos/actions/verModelos/invoke",{method:"GET",headers:{"Content-Type":'application/json;profile="urn:org.apache.isis"',Authorization:e,accept:"application/json;profile=urn:org.apache.isis/v2;suppress=all"}}),r=await o.json();$(r)}catch(e){console.error("Error al realizar la solicitud:",e)}};return(0,t.jsx)(a.ZP,{container:!0,spacing:0,children:(0,t.jsxs)(a.ZP,{item:!0,xs:12,lg:12,children:[(0,t.jsxs)(s.Z,{display:"flex",justifyContent:"space-between",children:[(0,t.jsx)(l.Z,{variant:"contained",sx:{margin:"20px"},onClick:()=>{G(!0)},children:"Agregar Modelo"}),(0,t.jsx)(l.Z,{variant:"contained",sx:{margin:"20px",backgroundColor:k.Z[500],"&:hover":{backgroundColor:k.Z[700]}},startIcon:(0,t.jsx)(E.Z,{}),onClick:ee,children:"Exportar a PDF"})]}),(0,t.jsxs)(n.Z,{open:_,onClose:H,children:[(0,t.jsx)(c.Z,{children:"Agregar Modelo"}),(0,t.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,t.jsx)(a.ZP,{item:!0,xs:12,lg:12,children:(0,t.jsx)(z.Z,{title:"Complete el Formulario del Modelo",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Z,{spacing:3,children:[(0,t.jsxs)(p.Z,{fullWidth:!0,children:[(0,t.jsx)(x.Z,{id:"modelo-label",children:"Empresa"}),(0,t.jsx)(j.Z,{labelId:"empresa-label",id:"empresa",name:"empresa_id",label:"Empresa",value:T.empresa_id,onChange:e=>D({...T,empresa_id:e.target.value}),children:r.map(e=>(0,t.jsx)(u.Z,{value:e.id,children:e.name},e.id))})]}),(0,t.jsx)(m.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:T.nombre,onChange:J})]}),(0,t.jsx)("br",{}),(0,t.jsx)(l.Z,{onClick:U,children:"Cargar"})]})})})}),(0,t.jsx)(f.Z,{children:(0,t.jsx)(l.Z,{onClick:H,children:"Cancelar"})})]}),(0,t.jsx)(z.Z,{title:"Modelos",children:(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(g.Z,{children:(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(b.Z,{children:"ID"}),(0,t.jsx)(b.Z,{children:"Nombre"}),(0,t.jsx)(b.Z,{children:"Empresa"}),(0,t.jsx)(b.Z,{children:"Activo"}),(0,t.jsx)(b.Z,{children:"Acciones"})]})}),(0,t.jsx)(y.Z,{children:e.map(e=>(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(b.Z,{children:e.id}),(0,t.jsx)(b.Z,{children:e.nombre}),(0,t.jsx)(b.Z,{children:e.empresa.title}),(0,t.jsx)(b.Z,{children:e.activo?"S\xed":"No"}),(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(l.Z,{startIcon:(0,t.jsx)(C.Z,{}),color:"primary",onClick:()=>Y(e),children:"Editar"})," ",(0,t.jsxs)(n.Z,{open:N,onClose:L,children:[(0,t.jsx)(c.Z,{children:"Editar Modelo"}),(0,t.jsx)(d.Z,{sx:{width:"600px",textAlign:"center"},children:(0,t.jsx)(a.ZP,{item:!0,xs:12,lg:12,children:(0,t.jsx)(z.Z,{title:"Editar Modelo",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{spacing:3,children:(0,t.jsx)(m.Z,{id:"nombre",name:"nombre",label:"Nombre",variant:"outlined",fullWidth:!0,value:T.nombre,onChange:J})}),(0,t.jsx)("br",{}),(0,t.jsx)(l.Z,{onClick:q,children:"Confirmar Edici\xf3n"})]})})})}),(0,t.jsx)(f.Z,{children:(0,t.jsx)(l.Z,{onClick:L,children:"Cancelar"})})]}),(0,t.jsx)(l.Z,{startIcon:e.activo?(0,t.jsx)(w.Z,{}):(0,t.jsx)(S.Z,{}),color:e.activo?"secondary":"success",onClick:()=>K(e.id,e.activo),children:e.activo?"Desactivar":"Activar"}),(0,t.jsx)(n.Z,{open:W,onClose:()=>O(!1),children:(0,t.jsxs)(d.Z,{children:[V,(0,t.jsx)(l.Z,{onClick:()=>window.location.reload(),children:"Aceptar"})]})})]})]},e.id))})]})})]})})}}},function(e){e.O(0,[642,48,448,306,370,468,238,874,320,416,133,491,138,971,596,744],function(){return e(e.s=75588)}),_N_E=e.O()}]);